INFO: 2017-02-04 08:24:51,138 - Started
INFO: 2017-02-04 08:24:51,138 - Listening on port 8000
INFO: 2017-02-04 08:25:01,189 - Querying provider APIs
INFO: 2017-02-04 08:25:03,224 - Finished querying APIs.
INFO: 2017-02-04 08:25:03,224 - Merging results.
INFO: 2017-02-04 08:25:03,228 - Finished merging results.
INFO: 2017-02-04 08:25:03,228 - Writing to server.
INFO: 2017-02-04 08:25:03,237 - Finished writing to server.
INFO: 2017-02-04 08:25:03,239 - 200 GET /flights/search (::1) 2050.43ms
INFO: 2017-02-04 08:33:24,140 - myapi.py modified; restarting server
INFO: 2017-02-04 08:33:24,193 - Started
INFO: 2017-02-04 08:33:24,194 - Listening on port 8000
INFO: 2017-02-04 08:38:05,694 - myapi.py modified; restarting server
INFO: 2017-02-04 08:38:05,752 - Started
INFO: 2017-02-04 08:38:05,752 - Listening on port 8000
INFO: 2017-02-04 08:38:15,034 - Started
INFO: 2017-02-04 08:38:15,035 - Listening on port 8000
INFO: 2017-02-04 08:38:22,457 - Querying provider APIs
INFO: 2017-02-04 08:38:24,520 - Finished querying APIs. Merging results.
INFO: 2017-02-04 08:38:24,527 - Finished mergin results. Writing to server.
INFO: 2017-02-04 08:38:24,545 - Finished writing to server.
INFO: 2017-02-04 08:38:24,556 - 200 GET /flights/search (::1) 2098.96ms
INFO: 2017-02-08 23:27:28,112 - Started
INFO: 2017-02-08 23:27:28,113 - Listening on port 8000
INFO: 2017-02-08 23:27:34,226 - Querying provider APIs
ERROR: 2017-02-08 23:27:34,226 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Accept-Language': 'en-US,en;q=0.8', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN'})
Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 79, in get
    results = merge(results, self.query_api(provider))
NameError: name 'merge' is not defined
ERROR: 2017-02-08 23:27:34,227 - 500 GET /flights/search (::1) 1.71ms
WARNING: 2017-02-08 23:27:34,285 - 404 GET /favicon.ico (::1) 0.38ms
INFO: 2017-02-08 23:27:40,114 - /home/hodgka/Documents/hipproblems/searchrunner/myapi.py modified; restarting server
INFO: 2017-02-08 23:27:40,234 - Started
INFO: 2017-02-08 23:27:40,236 - Listening on port 8000
INFO: 2017-02-08 23:27:40,736 - Querying provider APIs
INFO: 2017-02-08 23:27:40,737 - Finished querying APIs. Merging results.
INFO: 2017-02-08 23:27:40,737 - Finished mergin results. Writing to server.
ERROR: 2017-02-08 23:27:40,737 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Accept-Language': 'en-US,en;q=0.8', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN'})
Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 88, in get
    self.write(results)
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 708, in write
    raise TypeError(message)
TypeError: write() only accepts bytes, unicode, and dict objects
ERROR: 2017-02-08 23:27:40,738 - 500 GET /flights/search (::1) 2.65ms
INFO: 2017-02-08 23:27:54,237 - /home/hodgka/Documents/hipproblems/searchrunner/myapi.py modified; restarting server
INFO: 2017-02-08 23:27:54,345 - Started
INFO: 2017-02-08 23:27:54,347 - Listening on port 8000
INFO: 2017-02-08 23:27:56,294 - Querying provider APIs
INFO: 2017-02-08 23:27:56,295 - Finished querying APIs. Merging results.
INFO: 2017-02-08 23:27:56,296 - Finished mergin results. Writing to server.
ERROR: 2017-02-08 23:27:56,296 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Accept-Language': 'en-US,en;q=0.8', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN'})
Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 88, in get
    self.write({"results": results})
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python3.6/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python3.6/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.6/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.6/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.6/json/encoder.py", line 180, in default
    o.__class__.__name__)
TypeError: Object of type 'Future' is not JSON serializable
ERROR: 2017-02-08 23:27:56,320 - 500 GET /flights/search (::1) 26.94ms
INFO: 2017-02-08 23:28:15,847 - /home/hodgka/Documents/hipproblems/searchrunner/myapi.py modified; restarting server
INFO: 2017-02-08 23:28:15,962 - Started
INFO: 2017-02-08 23:28:15,963 - Listening on port 8000
INFO: 2017-02-08 23:28:18,003 - Querying provider APIs
ERROR: 2017-02-08 23:28:18,005 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Accept-Language': 'en-US,en;q=0.8', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN'})
Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 80, in get
    yield results
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 121, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-08 23:28:18,012 - 500 GET /flights/search (::1) 11.90ms
INFO: 2017-02-08 23:28:19,184 - Querying provider APIs
ERROR: 2017-02-08 23:28:19,189 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Accept-Language': 'en-US,en;q=0.8', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN'})
Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 80, in get
    yield results
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 121, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-08 23:28:19,192 - 500 GET /flights/search (::1) 7.97ms
ERROR: 2017-02-08 23:28:21,191 - Future <tornado.concurrent.Future object at 0x7fee91744358> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 112, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200))
NameError: name 'xrange' is not defined
ERROR: 2017-02-08 23:28:21,191 - Future <tornado.concurrent.Future object at 0x7fee917444a8> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 125, in merge
    raise gen.Return(combined_results + old_results + new_results)
TypeError: can only concatenate list (not "Future") to list
ERROR: 2017-02-08 23:28:21,192 - Future <tornado.concurrent.Future object at 0x7fee917444e0> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 112, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/orbitz.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200, 4))
NameError: name 'xrange' is not defined
ERROR: 2017-02-08 23:28:21,193 - Future <tornado.concurrent.Future object at 0x7fee917446a0> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 121, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-08 23:28:21,193 - Future <tornado.concurrent.Future object at 0x7fee917446d8> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 112, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/priceline.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200, 2))
NameError: name 'xrange' is not defined
ERROR: 2017-02-08 23:28:21,194 - Future <tornado.concurrent.Future object at 0x7fee91744908> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 121, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-08 23:28:21,195 - Future <tornado.concurrent.Future object at 0x7fee91744940> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 112, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/travelocity.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200, 3))
NameError: name 'xrange' is not defined
ERROR: 2017-02-08 23:28:21,195 - Future <tornado.concurrent.Future object at 0x7fee91744b70> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/usr/lib/python3.6/types.py", line 248, in wrapped
    coro = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 121, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-08 23:28:21,196 - Future <tornado.concurrent.Future object at 0x7fee91744ba8> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 112, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/united.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1800))
NameError: name 'xrange' is not defined
INFO: 2017-02-08 23:29:58,464 - /home/hodgka/Documents/hipproblems/searchrunner/myapi.py modified; restarting server
INFO: 2017-02-08 23:29:58,581 - Started
INFO: 2017-02-08 23:29:58,583 - Listening on port 8000
INFO: 2017-02-09 22:27:40,589 - Started
INFO: 2017-02-09 22:27:40,593 - Listening on port 8000
INFO: 2017-02-09 22:27:46,484 - Querying provider APIs
ERROR: 2017-02-09 22:27:46,534 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 80, in get
    yield results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 122, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-09 22:27:46,721 - 500 GET /flights/search (::1) 237.41ms
ERROR: 2017-02-09 22:27:48,493 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 122, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-09 22:27:48,494 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 122, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-09 22:27:48,494 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 122, in merge
    if old_results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-09 22:27:48,495 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 126, in merge
    raise gen.Return(combined_results + old_results + new_results)
TypeError: can only concatenate list (not "Future") to list
ERROR: 2017-02-09 22:27:48,516 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 114, in query_api
    yield result.serialize()
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-09 22:27:48,557 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 114, in query_api
    yield result.serialize()
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-09 22:27:48,558 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 114, in query_api
    yield result.serialize()
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-09 22:27:48,558 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 114, in query_api
    yield result.serialize()
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-09 22:27:48,558 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "/home/hodgka/Documents/hipproblems/searchrunner/myapi.py", line 114, in query_api
    yield result.serialize()
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
INFO: 2017-02-12 23:40:51,470 - Started
INFO: 2017-02-12 23:40:51,515 - Listening on port 8000
INFO: 2017-02-12 23:41:01,356 - Started
INFO: 2017-02-12 23:41:01,358 - Listening on port 8000
WARNING: 2017-02-12 23:41:05,472 - 404 GET / (::1) 0.92ms
WARNING: 2017-02-12 23:41:05,577 - 404 GET /favicon.ico (::1) 0.43ms
INFO: 2017-02-12 23:41:09,478 - Querying provider APIs
INFO: 2017-02-12 23:41:09,479 - Finished querying APIs. Merging results.
INFO: 2017-02-12 23:41:09,479 - Finished mergin results. Writing to server.
INFO: 2017-02-12 23:41:09,479 - Finished writing to server.
INFO: 2017-02-12 23:41:09,481 - 200 GET /flights/search (::1) 3.65ms
ERROR: 2017-02-12 23:41:11,481 - Future <tornado.concurrent.Future object at 0x7fb900be3320> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 115, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200))
NameError: name 'xrange' is not defined
ERROR: 2017-02-12 23:41:11,483 - Future <tornado.concurrent.Future object at 0x7fb900be39e8> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 115, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/orbitz.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200, 4))
NameError: name 'xrange' is not defined
ERROR: 2017-02-12 23:41:11,484 - Future <tornado.concurrent.Future object at 0x7fb900be3be0> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 115, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/priceline.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200, 2))
NameError: name 'xrange' is not defined
ERROR: 2017-02-12 23:41:11,486 - Future <tornado.concurrent.Future object at 0x7fb900be3dd8> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 115, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/travelocity.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1200, 3))
NameError: name 'xrange' is not defined
ERROR: 2017-02-12 23:41:11,488 - Future <tornado.concurrent.Future object at 0x7fb900be3fd0> exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 115, in query_api
    results = yield scraper.run()
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python3.6/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "<string>", line 3, in raise_exc_info
  File "/usr/lib/python3.6/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/common.py", line 42, in run
    self.load_results()
  File "/home/hodgka/Documents/hipproblems/searchrunner/scrapers/united.py", line 9, in load_results
    self.load_fake_results(xrange(1, 1800))
NameError: name 'xrange' is not defined
INFO: 2017-02-12 23:41:26,455 - Started
INFO: 2017-02-12 23:41:26,457 - Listening on port 8000
INFO: 2017-02-12 23:41:28,946 - Querying provider APIs
INFO: 2017-02-12 23:41:28,947 - Finished querying APIs. Merging results.
INFO: 2017-02-12 23:41:28,947 - Finished mergin results. Writing to server.
INFO: 2017-02-12 23:41:28,947 - Finished writing to server.
INFO: 2017-02-12 23:41:28,950 - 304 GET /flights/search (::1) 5.62ms
INFO: 2017-02-12 23:41:30,165 - Querying provider APIs
INFO: 2017-02-12 23:41:30,168 - Finished querying APIs. Merging results.
INFO: 2017-02-12 23:41:30,169 - Finished mergin results. Writing to server.
INFO: 2017-02-12 23:41:30,169 - Finished writing to server.
INFO: 2017-02-12 23:41:30,170 - 304 GET /flights/search (::1) 6.22ms
INFO: 2017-02-12 23:41:59,457 - myapi.py modified; restarting server
INFO: 2017-02-12 23:41:59,572 - Started
INFO: 2017-02-12 23:41:59,573 - Listening on port 8000
INFO: 2017-02-12 23:42:02,846 - Querying provider APIs
INFO: 2017-02-12 23:42:02,847 - Finished querying APIs. Merging results.
INFO: 2017-02-12 23:42:02,847 - Finished mergin results. Writing to server.
INFO: 2017-02-12 23:42:02,848 - Finished writing to server.
INFO: 2017-02-12 23:42:02,849 - 304 GET /flights/search (::1) 4.57ms
INFO: 2017-02-12 23:47:13,573 - myapi.py modified; restarting server
INFO: 2017-02-12 23:47:13,681 - Started
INFO: 2017-02-12 23:47:13,681 - Listening on port 8000
INFO: 2017-02-12 23:47:16,920 - Querying provider APIs
INFO: 2017-02-12 23:47:16,926 - Finished querying APIs. Merging results.
INFO: 2017-02-12 23:47:16,928 - Finished mergin results. Writing to server.
ERROR: 2017-02-12 23:47:16,975 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"6cb2797a39ae4e65ff54fbc6721c324f1f993f44"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 92, in get
    self.write({"results": self.results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <tornado.concurrent.Future object at 0x7f5b32334b50> is not JSON serializable
ERROR: 2017-02-12 23:47:16,978 - 500 GET /flights/search (::1) 59.02ms
ERROR: 2017-02-12 23:47:18,952 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-12 23:47:18,979 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-12 23:47:18,981 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-12 23:47:18,985 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:32:46,569 - Querying provider APIs
INFO: 2017-02-13 00:32:46,570 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:32:46,571 - Finished mergin results. Writing to server.
ERROR: 2017-02-13 00:32:46,571 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 92, in get
    self.write({"results": self.results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <tornado.concurrent.Future object at 0x7f5b32154050> is not JSON serializable
ERROR: 2017-02-13 00:32:46,573 - 500 GET /flights/search (::1) 5.10ms
ERROR: 2017-02-13 00:32:48,583 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:32:48,583 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:32:48,587 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:32:48,595 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 126, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:33:11,683 - myapi.py modified; restarting server
INFO: 2017-02-13 00:33:11,745 - Started
INFO: 2017-02-13 00:33:11,746 - Listening on port 8000
INFO: 2017-02-13 00:33:42,588 - Started
INFO: 2017-02-13 00:33:49,669 - Started
INFO: 2017-02-13 00:33:49,670 - Listening on port 8000
INFO: 2017-02-13 00:33:56,779 - Querying provider APIs
INFO: 2017-02-13 00:33:56,780 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:33:56,780 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:33:56,780 - Finished writing to server.
INFO: 2017-02-13 00:33:56,781 - 200 GET /flights/search (::1) 1.90ms
ERROR: 2017-02-13 00:33:58,834 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:33:58,836 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:33:58,838 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:33:58,839 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:34:15,171 - myapi.py modified; restarting server
INFO: 2017-02-13 00:34:15,251 - Started
INFO: 2017-02-13 00:34:15,252 - Listening on port 8000
INFO: 2017-02-13 00:34:16,666 - Querying provider APIs
INFO: 2017-02-13 00:34:16,668 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:34:16,668 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:34:16,668 - Finished writing to server.
INFO: 2017-02-13 00:34:16,670 - 304 GET /flights/search (::1) 4.30ms
ERROR: 2017-02-13 00:34:18,678 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:34:18,689 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:34:18,690 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:34:18,692 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:40:58,768 - Querying provider APIs
INFO: 2017-02-13 00:40:58,770 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:40:58,770 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:40:58,770 - Finished writing to server.
INFO: 2017-02-13 00:40:58,771 - 304 GET /flights/search (::1) 3.39ms
ERROR: 2017-02-13 00:41:00,775 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:41:00,787 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:41:00,789 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:41:00,791 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 119, in query_api
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:41:10,253 - myapi.py modified; restarting server
INFO: 2017-02-13 00:41:10,338 - Started
INFO: 2017-02-13 00:41:10,339 - Listening on port 8000
INFO: 2017-02-13 00:41:11,611 - Querying provider APIs
INFO: 2017-02-13 00:41:11,613 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:41:11,614 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:41:11,616 - Finished writing to server.
INFO: 2017-02-13 00:41:11,619 - 304 GET /flights/search (::1) 9.12ms
ERROR: 2017-02-13 00:41:13,620 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 124, in query_api
    raise gen.Return(self.merge(results))
NameError: global name 'results' is not defined
ERROR: 2017-02-13 00:41:13,622 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 124, in query_api
    raise gen.Return(self.merge(results))
NameError: global name 'results' is not defined
ERROR: 2017-02-13 00:41:13,632 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 124, in query_api
    raise gen.Return(self.merge(results))
NameError: global name 'results' is not defined
ERROR: 2017-02-13 00:41:13,634 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 124, in query_api
    raise gen.Return(self.merge(results))
NameError: global name 'results' is not defined
INFO: 2017-02-13 00:41:19,341 - myapi.py modified; restarting server
INFO: 2017-02-13 00:41:19,398 - Started
INFO: 2017-02-13 00:41:19,399 - Listening on port 8000
INFO: 2017-02-13 00:41:20,389 - Querying provider APIs
INFO: 2017-02-13 00:41:20,390 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:41:20,390 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:41:20,391 - Finished writing to server.
INFO: 2017-02-13 00:41:20,392 - 304 GET /flights/search (::1) 3.44ms
ERROR: 2017-02-13 00:41:22,414 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:41:22,417 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:41:22,417 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:41:22,419 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:44:09,900 - myapi.py modified; restarting server
INFO: 2017-02-13 00:44:10,013 - Started
INFO: 2017-02-13 00:44:10,013 - Listening on port 8000
INFO: 2017-02-13 00:44:12,695 - Querying provider APIs
INFO: 2017-02-13 00:44:12,696 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:44:12,696 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:44:12,696 - Finished writing to server.
INFO: 2017-02-13 00:44:12,698 - 304 GET /flights/search (::1) 4.41ms
ERROR: 2017-02-13 00:44:14,728 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 124, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 134, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:44:14,749 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 124, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 134, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:44:14,751 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 124, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 134, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:44:14,752 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 124, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 134, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:46:09,514 - myapi.py modified; restarting server
INFO: 2017-02-13 00:46:09,597 - Started
INFO: 2017-02-13 00:46:09,598 - Listening on port 8000
INFO: 2017-02-13 00:46:11,685 - Querying provider APIs
INFO: 2017-02-13 00:46:11,688 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:46:11,688 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:46:11,689 - Finished writing to server.
INFO: 2017-02-13 00:46:11,691 - 304 GET /flights/search (::1) 6.83ms
INFO: 2017-02-13 00:46:14,615 - Querying provider APIs
INFO: 2017-02-13 00:46:14,617 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:46:14,617 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:46:14,617 - Finished writing to server.
INFO: 2017-02-13 00:46:14,618 - 304 GET /flights/search (::1) 3.90ms
INFO: 2017-02-13 00:46:27,833 - Started
INFO: 2017-02-13 00:46:27,833 - Listening on port 8000
INFO: 2017-02-13 00:46:29,864 - Querying provider APIs
INFO: 2017-02-13 00:46:29,864 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:46:29,864 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:46:29,864 - Finished writing to server.
INFO: 2017-02-13 00:46:29,865 - 200 GET /flights/search (::1) 1.11ms
INFO: 2017-02-13 00:46:35,834 - myapi.py modified; restarting server
INFO: 2017-02-13 00:46:35,932 - Started
INFO: 2017-02-13 00:46:35,933 - Listening on port 8000
INFO: 2017-02-13 00:46:36,666 - Querying provider APIs
INFO: 2017-02-13 00:46:36,666 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:46:36,666 - Finished mergin results. Writing to server.
ERROR: 2017-02-13 00:46:36,667 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"6cb2797a39ae4e65ff54fbc6721c324f1f993f44"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 91, in get
    self.write({"results": self.results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <tornado.concurrent.Future object at 0x7f461cefae90> is not JSON serializable
ERROR: 2017-02-13 00:46:36,668 - 500 GET /flights/search (::1) 2.45ms
ERROR: 2017-02-13 00:46:38,714 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 125, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:46:38,716 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 125, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:46:38,717 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 125, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 00:46:38,718 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 125, in query_api
    merged_results = yield self.merge(new_results)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 133, in merge
    if self.results[0] < new_results[0]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 00:48:01,434 - myapi.py modified; restarting server
INFO: 2017-02-13 00:48:01,533 - Started
INFO: 2017-02-13 00:48:01,535 - Listening on port 8000
INFO: 2017-02-13 00:48:05,378 - Querying provider APIs
INFO: 2017-02-13 00:48:05,378 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:48:05,378 - Finished mergin results. Writing to server.
ERROR: 2017-02-13 00:48:05,379 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1467, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "myapi.py", line 91, in get
    self.write({"results": self.results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <generator object query_api at 0x7f35c7b27aa0> is not JSON serializable
ERROR: 2017-02-13 00:48:05,383 - 500 GET /flights/search (::1) 6.55ms
INFO: 2017-02-13 00:48:16,536 - myapi.py modified; restarting server
INFO: 2017-02-13 00:48:30,314 - Started
INFO: 2017-02-13 00:48:30,315 - Listening on port 8000
INFO: 2017-02-13 00:48:31,427 - Querying provider APIs
INFO: 2017-02-13 00:48:31,429 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:48:31,429 - Finished mergin results. Writing to server.
ERROR: 2017-02-13 00:48:31,430 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1467, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "myapi.py", line 91, in get
    self.write({"results": self.results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <generator object query_api at 0x7fba9318caa0> is not JSON serializable
ERROR: 2017-02-13 00:48:31,433 - 500 GET /flights/search (::1) 5.93ms
INFO: 2017-02-13 00:48:38,817 - myapi.py modified; restarting server
INFO: 2017-02-13 00:48:38,920 - Started
INFO: 2017-02-13 00:48:38,921 - Listening on port 8000
INFO: 2017-02-13 00:48:40,681 - Querying provider APIs
INFO: 2017-02-13 00:48:40,682 - Finished querying APIs. Merging results.
INFO: 2017-02-13 00:48:40,682 - Finished mergin results. Writing to server.
INFO: 2017-02-13 00:48:40,682 - Finished writing to server.
INFO: 2017-02-13 00:48:40,684 - 200 GET /flights/search (::1) 3.55ms
INFO: 2017-02-13 00:48:50,922 - myapi.py modified; restarting server
INFO: 2017-02-13 00:48:51,021 - Started
INFO: 2017-02-13 00:48:51,022 - Listening on port 8000
INFO: 2017-02-13 00:48:51,718 - Querying provider APIs
INFO: 2017-02-13 00:48:51,720 - 304 GET /flights/search (::1) 2.86ms
INFO: 2017-02-13 00:48:59,022 - myapi.py modified; restarting server
INFO: 2017-02-13 00:48:59,101 - Started
INFO: 2017-02-13 00:48:59,103 - Listening on port 8000
INFO: 2017-02-13 00:49:00,261 - Querying provider APIs
INFO: 2017-02-13 00:49:00,267 - 304 GET /flights/search (::1) 8.43ms
INFO: 2017-02-13 00:49:07,605 - myapi.py modified; restarting server
INFO: 2017-02-13 00:49:07,703 - Started
INFO: 2017-02-13 00:49:07,704 - Listening on port 8000
INFO: 2017-02-13 00:49:07,912 - Querying provider APIs
INFO: 2017-02-13 00:49:07,914 - 304 GET /flights/search (::1) 2.94ms
INFO: 2017-02-13 00:49:12,205 - myapi.py modified; restarting server
INFO: 2017-02-13 00:49:12,303 - Started
INFO: 2017-02-13 00:49:12,304 - Listening on port 8000
INFO: 2017-02-13 00:49:12,924 - Querying provider APIs
INFO: 2017-02-13 00:49:12,925 - 304 GET /flights/search (::1) 0.99ms
INFO: 2017-02-13 00:51:32,305 - myapi.py modified; restarting server
INFO: 2017-02-13 00:51:32,394 - Started
INFO: 2017-02-13 00:51:32,398 - Listening on port 8000
INFO: 2017-02-13 00:51:34,899 - myapi.py modified; restarting server
INFO: 2017-02-13 00:51:34,985 - Started
INFO: 2017-02-13 00:51:34,987 - Listening on port 8000
INFO: 2017-02-13 00:51:41,488 - myapi.py modified; restarting server
INFO: 2017-02-13 00:51:53,223 - 304 GET /flights/search (::1) 3.33ms
INFO: 2017-02-13 00:53:15,241 - myapi.py modified; restarting server
INFO: 2017-02-13 00:53:17,611 - 304 GET /flights/search (::1) 3.05ms
INFO: 2017-02-13 00:53:38,351 - myapi.py modified; restarting server
INFO: 2017-02-13 00:53:39,061 - 304 GET /flights/search (::1) 0.89ms
INFO: 2017-02-13 01:01:02,953 - myapi.py modified; restarting server
ERROR: 2017-02-13 01:01:07,107 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 285, in wrapper
    yielded = next(result)
  File "myapi.py", line 132, in get_new_results
    new_results = yield query_api(provider)
NameError: global name 'query_api' is not defined
ERROR: 2017-02-13 01:01:07,109 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 285, in wrapper
    yielded = next(result)
  File "myapi.py", line 132, in get_new_results
    new_results = yield query_api(provider)
NameError: global name 'query_api' is not defined
ERROR: 2017-02-13 01:01:07,110 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 285, in wrapper
    yielded = next(result)
  File "myapi.py", line 132, in get_new_results
    new_results = yield query_api(provider)
NameError: global name 'query_api' is not defined
ERROR: 2017-02-13 01:01:07,111 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 285, in wrapper
    yielded = next(result)
  File "myapi.py", line 132, in get_new_results
    new_results = yield query_api(provider)
NameError: global name 'query_api' is not defined
INFO: 2017-02-13 01:01:07,113 - 304 GET /flights/search (::1) 8.64ms
INFO: 2017-02-13 01:01:16,535 - myapi.py modified; restarting server
INFO: 2017-02-13 01:01:17,785 - 304 GET /flights/search (::1) 3.89ms
ERROR: 2017-02-13 01:01:19,819 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 132, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in query_api
    merged_results = yield self.merge(new_results)
AttributeError: 'MyAPI' object has no attribute 'merge'
ERROR: 2017-02-13 01:01:19,850 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 132, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in query_api
    merged_results = yield self.merge(new_results)
AttributeError: 'MyAPI' object has no attribute 'merge'
ERROR: 2017-02-13 01:01:19,850 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 132, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in query_api
    merged_results = yield self.merge(new_results)
AttributeError: 'MyAPI' object has no attribute 'merge'
ERROR: 2017-02-13 01:01:19,850 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 132, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in query_api
    merged_results = yield self.merge(new_results)
AttributeError: 'MyAPI' object has no attribute 'merge'
ERROR: 2017-02-13 01:01:19,850 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 132, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in query_api
    merged_results = yield self.merge(new_results)
AttributeError: 'MyAPI' object has no attribute 'merge'
INFO: 2017-02-13 01:01:30,127 - myapi.py modified; restarting server
INFO: 2017-02-13 01:01:30,852 - 304 GET /flights/search (::1) 0.77ms
INFO: 2017-02-13 01:01:33,770 - 304 GET /flights/search (::1) 2.85ms
INFO: 2017-02-13 01:01:40,885 - 304 GET /flights/search (::1) 2.73ms
INFO: 2017-02-13 01:01:48,986 - 304 GET /flights/search (::1) 0.84ms
INFO: 2017-02-13 01:02:12,572 - myapi.py modified; restarting server
INFO: 2017-02-13 01:02:14,679 - 304 GET /flights/search (::1) 1.21ms
ERROR: 2017-02-13 01:02:16,742 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 133, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 129, in query_api
    yield query_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 01:02:16,742 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 133, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 129, in query_api
    yield query_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 01:02:16,752 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 133, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 129, in query_api
    yield query_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 01:02:16,752 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 133, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 129, in query_api
    yield query_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 01:02:16,752 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 133, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 129, in query_api
    yield query_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
INFO: 2017-02-13 01:02:52,174 - myapi.py modified; restarting server
INFO: 2017-02-13 01:02:53,398 - 304 GET /flights/search (::1) 4.13ms
INFO: 2017-02-13 01:03:49,773 - myapi.py modified; restarting server
INFO: 2017-02-13 01:03:53,583 - Querying api: expedia
INFO: 2017-02-13 01:03:53,583 - Querying api: orbitz
INFO: 2017-02-13 01:03:53,584 - Querying api: priceline
INFO: 2017-02-13 01:03:53,584 - Querying api: travelocity
INFO: 2017-02-13 01:03:53,585 - Querying api: united
INFO: 2017-02-13 01:03:53,587 - 304 GET /flights/search (::1) 5.32ms
ERROR: 2017-02-13 01:03:55,595 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 135, in get_new_results
    logging.inf("Merging results")
AttributeError: 'module' object has no attribute 'inf'
ERROR: 2017-02-13 01:03:55,613 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 135, in get_new_results
    logging.inf("Merging results")
AttributeError: 'module' object has no attribute 'inf'
ERROR: 2017-02-13 01:03:55,613 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 135, in get_new_results
    logging.inf("Merging results")
AttributeError: 'module' object has no attribute 'inf'
ERROR: 2017-02-13 01:03:55,613 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 135, in get_new_results
    logging.inf("Merging results")
AttributeError: 'module' object has no attribute 'inf'
ERROR: 2017-02-13 01:03:55,613 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 135, in get_new_results
    logging.inf("Merging results")
AttributeError: 'module' object has no attribute 'inf'
INFO: 2017-02-13 01:04:02,357 - myapi.py modified; restarting server
INFO: 2017-02-13 01:04:03,298 - Querying api: expedia
INFO: 2017-02-13 01:04:03,299 - Querying api: orbitz
INFO: 2017-02-13 01:04:03,300 - Querying api: priceline
INFO: 2017-02-13 01:04:03,300 - Querying api: travelocity
INFO: 2017-02-13 01:04:03,301 - Querying api: united
INFO: 2017-02-13 01:04:03,302 - 304 GET /flights/search (::1) 4.37ms
INFO: 2017-02-13 01:04:05,311 - Merging results
INFO: 2017-02-13 01:04:05,328 - Merging results
INFO: 2017-02-13 01:04:05,328 - Merging results
INFO: 2017-02-13 01:04:05,328 - Merging results
INFO: 2017-02-13 01:04:05,328 - Merging results
INFO: 2017-02-13 01:04:19,435 - myapi.py modified; restarting server
INFO: 2017-02-13 01:04:20,818 - Querying api: expedia
INFO: 2017-02-13 01:04:20,818 - Querying api: orbitz
INFO: 2017-02-13 01:04:20,818 - Querying api: priceline
INFO: 2017-02-13 01:04:20,818 - Querying api: travelocity
INFO: 2017-02-13 01:04:20,818 - Querying api: united
INFO: 2017-02-13 01:04:20,818 - Finished querying APIs. Merging results.
INFO: 2017-02-13 01:04:20,819 - 304 GET /flights/search (::1) 1.64ms
INFO: 2017-02-13 01:04:22,852 - Merging results
INFO: 2017-02-13 01:04:22,884 - Merging results
INFO: 2017-02-13 01:04:22,884 - Merging results
INFO: 2017-02-13 01:04:22,884 - Merging results
INFO: 2017-02-13 01:04:22,884 - Merging results
INFO: 2017-02-13 01:04:34,513 - myapi.py modified; restarting server
INFO: 2017-02-13 01:04:35,379 - Querying api: expedia
INFO: 2017-02-13 01:04:35,379 - Querying api: orbitz
INFO: 2017-02-13 01:04:35,379 - Querying api: priceline
INFO: 2017-02-13 01:04:35,379 - Querying api: travelocity
INFO: 2017-02-13 01:04:35,379 - Querying api: united
INFO: 2017-02-13 01:04:35,379 - Finished querying APIs. Merging results.
INFO: 2017-02-13 01:04:35,380 - 304 GET /flights/search (::1) 1.61ms
INFO: 2017-02-13 01:04:37,412 - Merging results
INFO: 2017-02-13 01:04:37,413 - Returning Results
INFO: 2017-02-13 01:04:37,441 - Merging results
INFO: 2017-02-13 01:04:37,442 - Returning Results
INFO: 2017-02-13 01:04:37,442 - Merging results
INFO: 2017-02-13 01:04:37,442 - Returning Results
INFO: 2017-02-13 01:04:37,442 - Merging results
INFO: 2017-02-13 01:04:37,442 - Returning Results
INFO: 2017-02-13 01:04:37,442 - Merging results
INFO: 2017-02-13 01:04:37,442 - Returning Results
INFO: 2017-02-13 01:05:01,105 - myapi.py modified; restarting server
INFO: 2017-02-13 01:05:29,663 - myapi.py modified; restarting server
INFO: 2017-02-13 01:05:30,549 - Querying api: expedia
INFO: 2017-02-13 01:05:30,550 - Querying api: orbitz
INFO: 2017-02-13 01:05:30,550 - Querying api: priceline
INFO: 2017-02-13 01:05:30,551 - Querying api: travelocity
INFO: 2017-02-13 01:05:30,551 - Querying api: united
INFO: 2017-02-13 01:05:30,551 - Finished querying APIs. Merging results.
INFO: 2017-02-13 01:05:30,553 - 304 GET /flights/search (::1) 11.18ms
INFO: 2017-02-13 01:05:32,561 - Merging results
ERROR: 2017-02-13 01:05:32,561 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in get_new_results
    while results and new_results:
NameError: global name 'results' is not defined
INFO: 2017-02-13 01:05:32,578 - Merging results
ERROR: 2017-02-13 01:05:32,578 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in get_new_results
    while results and new_results:
NameError: global name 'results' is not defined
INFO: 2017-02-13 01:05:32,578 - Merging results
ERROR: 2017-02-13 01:05:32,578 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in get_new_results
    while results and new_results:
NameError: global name 'results' is not defined
INFO: 2017-02-13 01:05:32,578 - Merging results
ERROR: 2017-02-13 01:05:32,578 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in get_new_results
    while results and new_results:
NameError: global name 'results' is not defined
INFO: 2017-02-13 01:05:32,578 - Merging results
ERROR: 2017-02-13 01:05:32,579 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 127, in get_new_results
    while results and new_results:
NameError: global name 'results' is not defined
INFO: 2017-02-13 01:11:07,250 - myapi.py modified; restarting server
INFO: 2017-02-13 01:11:11,809 - Querying provider APIs
INFO: 2017-02-13 01:11:11,810 - Querying api: expedia
INFO: 2017-02-13 01:11:11,810 - Querying api: orbitz
INFO: 2017-02-13 01:11:11,811 - Querying api: priceline
INFO: 2017-02-13 01:11:11,811 - Querying api: travelocity
INFO: 2017-02-13 01:11:11,812 - Querying api: united
INFO: 2017-02-13 01:11:11,812 - Finished merging results. Writing to server.
ERROR: 2017-02-13 01:11:11,813 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"6cb2797a39ae4e65ff54fbc6721c324f1f993f44"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 86, in get
    self.write({"results": self.results})
AttributeError: 'MyAPI' object has no attribute 'results'
ERROR: 2017-02-13 01:11:11,819 - 500 GET /flights/search (::1) 11.05ms
INFO: 2017-02-13 01:11:13,829 - Merging results
INFO: 2017-02-13 01:11:13,830 - Returning Results
INFO: 2017-02-13 01:11:13,861 - Merging results
INFO: 2017-02-13 01:11:13,861 - Merging results
INFO: 2017-02-13 01:11:13,861 - Merging results
INFO: 2017-02-13 01:11:13,861 - Merging results
ERROR: 2017-02-13 01:11:13,861 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:11:13,862 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:11:13,862 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:11:13,862 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 01:11:18,323 - myapi.py modified; restarting server
INFO: 2017-02-13 01:11:21,424 - myapi.py modified; restarting server
INFO: 2017-02-13 01:11:22,147 - Querying provider APIs
INFO: 2017-02-13 01:11:22,147 - Querying api: expedia
INFO: 2017-02-13 01:11:22,147 - Querying api: orbitz
INFO: 2017-02-13 01:11:22,148 - Querying api: priceline
INFO: 2017-02-13 01:11:22,148 - Querying api: travelocity
INFO: 2017-02-13 01:11:22,148 - Querying api: united
INFO: 2017-02-13 01:11:22,148 - Finished merging results. Writing to server.
ERROR: 2017-02-13 01:11:22,149 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 86, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <tornado.concurrent.Future object at 0x7f6289e1c190> is not JSON serializable
ERROR: 2017-02-13 01:11:22,150 - 500 GET /flights/search (::1) 3.12ms
INFO: 2017-02-13 01:11:24,159 - Merging results
INFO: 2017-02-13 01:11:24,159 - Returning Results
INFO: 2017-02-13 01:11:24,177 - Merging results
INFO: 2017-02-13 01:11:24,177 - Merging results
INFO: 2017-02-13 01:11:24,177 - Merging results
INFO: 2017-02-13 01:11:24,177 - Merging results
ERROR: 2017-02-13 01:11:24,177 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:11:24,178 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:11:24,178 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:11:24,178 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 122, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 01:12:03,990 - myapi.py modified; restarting server
INFO: 2017-02-13 01:12:09,010 - Querying provider APIs
INFO: 2017-02-13 01:12:09,011 - Finished merging results. Writing to server.
ERROR: 2017-02-13 01:12:09,018 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 86, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <generator object get_new_results at 0x7f021f169d20> is not JSON serializable
ERROR: 2017-02-13 01:12:09,021 - 500 GET /flights/search (::1) 12.79ms
INFO: 2017-02-13 01:12:17,590 - myapi.py modified; restarting server
INFO: 2017-02-13 01:12:18,412 - Querying provider APIs
INFO: 2017-02-13 01:12:18,412 - Finished merging results. Writing to server.
ERROR: 2017-02-13 01:12:18,414 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 86, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <generator object get_new_results at 0x7f4ddc362d20> is not JSON serializable
ERROR: 2017-02-13 01:12:18,414 - 500 GET /flights/search (::1) 2.55ms
INFO: 2017-02-13 01:12:22,685 - myapi.py modified; restarting server
INFO: 2017-02-13 01:12:59,772 - myapi.py modified; restarting server
INFO: 2017-02-13 01:13:01,234 - Querying provider APIs
INFO: 2017-02-13 01:13:01,234 - Querying api: expedia
INFO: 2017-02-13 01:13:01,235 - Querying api: orbitz
INFO: 2017-02-13 01:13:01,235 - Querying api: priceline
INFO: 2017-02-13 01:13:01,236 - Querying api: travelocity
INFO: 2017-02-13 01:13:01,236 - Querying api: united
INFO: 2017-02-13 01:13:01,237 - Finished merging results. Writing to server.
ERROR: 2017-02-13 01:13:01,241 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 86, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <tornado.concurrent.Future object at 0x7fc2b315b190> is not JSON serializable
ERROR: 2017-02-13 01:13:01,243 - 500 GET /flights/search (::1) 11.08ms
INFO: 2017-02-13 01:13:03,268 - Merging results
INFO: 2017-02-13 01:13:03,268 - Returning Results
INFO: 2017-02-13 01:13:03,297 - Merging results
INFO: 2017-02-13 01:13:03,297 - Merging results
INFO: 2017-02-13 01:13:03,297 - Merging results
INFO: 2017-02-13 01:13:03,298 - Merging results
ERROR: 2017-02-13 01:13:03,298 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 98, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:13:03,298 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 98, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:13:03,298 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 98, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
ERROR: 2017-02-13 01:13:03,298 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 98, in get_new_results
    if old_results[0]["agony"] < new_results[0]["agony"]:
TypeError: 'Future' object does not support indexing
INFO: 2017-02-13 01:13:55,860 - myapi.py modified; restarting server
INFO: 2017-02-13 01:13:57,823 - Querying provider APIs
INFO: 2017-02-13 01:13:57,823 - Querying api: expedia
INFO: 2017-02-13 01:13:59,660 - Querying provider APIs
INFO: 2017-02-13 01:13:59,660 - Querying api: expedia
INFO: 2017-02-13 01:13:59,835 - Merging results
INFO: 2017-02-13 01:13:59,835 - Returning Results
INFO: 2017-02-13 01:13:59,835 - Querying api: orbitz
INFO: 2017-02-13 01:14:01,671 - Merging results
INFO: 2017-02-13 01:14:01,671 - Returning Results
INFO: 2017-02-13 01:14:01,671 - Querying api: orbitz
INFO: 2017-02-13 01:14:01,843 - Merging results
INFO: 2017-02-13 01:14:01,846 - Returning Results
INFO: 2017-02-13 01:14:01,847 - Querying api: priceline
INFO: 2017-02-13 01:14:03,678 - Merging results
INFO: 2017-02-13 01:14:03,678 - Returning Results
INFO: 2017-02-13 01:14:03,678 - Querying api: priceline
INFO: 2017-02-13 01:14:03,862 - Merging results
INFO: 2017-02-13 01:14:03,866 - Returning Results
INFO: 2017-02-13 01:14:03,867 - Querying api: travelocity
INFO: 2017-02-13 01:14:05,686 - Merging results
INFO: 2017-02-13 01:14:05,687 - Returning Results
INFO: 2017-02-13 01:14:05,687 - Querying api: travelocity
INFO: 2017-02-13 01:14:05,878 - Merging results
INFO: 2017-02-13 01:14:05,882 - Returning Results
INFO: 2017-02-13 01:14:05,884 - Querying api: united
INFO: 2017-02-13 01:14:07,693 - Merging results
INFO: 2017-02-13 01:14:07,694 - Returning Results
INFO: 2017-02-13 01:14:07,695 - Querying api: united
INFO: 2017-02-13 01:14:07,898 - Merging results
INFO: 2017-02-13 01:14:07,900 - Returning Results
INFO: 2017-02-13 01:14:07,953 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:14:07,965 - 200 GET /flights/search (::1) 10143.13ms
INFO: 2017-02-13 01:14:09,708 - Merging results
INFO: 2017-02-13 01:14:09,710 - Returning Results
INFO: 2017-02-13 01:14:09,747 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:14:09,758 - 200 GET /flights/search (::1) 10098.70ms
INFO: 2017-02-13 01:15:44,217 - Querying provider APIs
INFO: 2017-02-13 01:15:44,217 - Querying api: expedia
INFO: 2017-02-13 01:15:46,229 - Merging results
INFO: 2017-02-13 01:15:46,229 - Returning Results
INFO: 2017-02-13 01:15:46,229 - Querying api: orbitz
INFO: 2017-02-13 01:15:48,235 - Merging results
INFO: 2017-02-13 01:15:48,235 - Returning Results
INFO: 2017-02-13 01:15:48,235 - Querying api: priceline
INFO: 2017-02-13 01:15:50,251 - Merging results
INFO: 2017-02-13 01:15:50,255 - Returning Results
INFO: 2017-02-13 01:15:50,255 - Querying api: travelocity
INFO: 2017-02-13 01:15:52,262 - Merging results
INFO: 2017-02-13 01:15:52,263 - Returning Results
INFO: 2017-02-13 01:15:52,263 - Querying api: united
INFO: 2017-02-13 01:15:54,280 - Merging results
INFO: 2017-02-13 01:15:54,281 - Returning Results
INFO: 2017-02-13 01:15:54,334 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:15:54,356 - 200 GET /flights/search (::1) 10139.65ms
INFO: 2017-02-13 01:16:37,814 - Querying provider APIs
INFO: 2017-02-13 01:16:37,814 - Querying api: expedia
INFO: 2017-02-13 01:16:39,826 - Merging results
INFO: 2017-02-13 01:16:39,826 - Returning Results
INFO: 2017-02-13 01:16:39,826 - Querying api: orbitz
INFO: 2017-02-13 01:16:41,829 - Merging results
INFO: 2017-02-13 01:16:41,830 - Returning Results
INFO: 2017-02-13 01:16:41,831 - Querying api: priceline
INFO: 2017-02-13 01:16:43,838 - Merging results
INFO: 2017-02-13 01:16:43,839 - Returning Results
INFO: 2017-02-13 01:16:43,839 - Querying api: travelocity
INFO: 2017-02-13 01:16:45,846 - Merging results
INFO: 2017-02-13 01:16:45,847 - Returning Results
INFO: 2017-02-13 01:16:45,847 - Querying api: united
INFO: 2017-02-13 01:16:47,889 - Merging results
INFO: 2017-02-13 01:16:47,893 - Returning Results
INFO: 2017-02-13 01:16:47,937 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:16:47,949 - 200 GET /flights/search (::1) 10135.27ms
INFO: 2017-02-13 01:22:57,856 - myapi.py modified; restarting server
INFO: 2017-02-13 01:23:12,966 - myapi.py modified; restarting server
INFO: 2017-02-13 01:23:19,418 - Querying provider APIs
INFO: 2017-02-13 01:23:19,418 - Querying api: expedia
INFO: 2017-02-13 01:23:21,442 - Merging results
INFO: 2017-02-13 01:23:21,443 - Returning Results
INFO: 2017-02-13 01:23:21,444 - Querying api: orbitz
INFO: 2017-02-13 01:23:23,447 - Merging results
INFO: 2017-02-13 01:23:23,447 - Returning Results
INFO: 2017-02-13 01:23:23,448 - Querying api: priceline
INFO: 2017-02-13 01:23:25,451 - Merging results
INFO: 2017-02-13 01:23:25,452 - Returning Results
INFO: 2017-02-13 01:23:25,452 - Querying api: travelocity
INFO: 2017-02-13 01:23:27,456 - Merging results
INFO: 2017-02-13 01:23:27,458 - Returning Results
INFO: 2017-02-13 01:23:27,458 - Querying api: united
INFO: 2017-02-13 01:23:29,469 - Merging results
INFO: 2017-02-13 01:23:29,471 - Returning Results
INFO: 2017-02-13 01:23:29,471 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:23:29,484 - 200 GET /flights/search (::1) 10066.66ms
INFO: 2017-02-13 01:23:32,412 - Querying provider APIs
INFO: 2017-02-13 01:23:32,413 - Querying api: expedia
INFO: 2017-02-13 01:23:34,420 - Merging results
INFO: 2017-02-13 01:23:34,420 - Returning Results
INFO: 2017-02-13 01:23:34,421 - Querying api: orbitz
INFO: 2017-02-13 01:23:36,429 - Merging results
INFO: 2017-02-13 01:23:36,432 - Returning Results
INFO: 2017-02-13 01:23:36,432 - Querying api: priceline
INFO: 2017-02-13 01:23:38,439 - Merging results
INFO: 2017-02-13 01:23:38,441 - Returning Results
INFO: 2017-02-13 01:23:38,442 - Querying api: travelocity
INFO: 2017-02-13 01:23:40,445 - Merging results
INFO: 2017-02-13 01:23:40,447 - Returning Results
INFO: 2017-02-13 01:23:40,447 - Querying api: united
INFO: 2017-02-13 01:23:42,488 - Merging results
INFO: 2017-02-13 01:23:42,496 - Returning Results
INFO: 2017-02-13 01:23:42,497 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:23:42,508 - 200 GET /flights/search (::1) 10095.81ms
INFO: 2017-02-13 01:47:32,519 - myapi.py modified; restarting server
INFO: 2017-02-13 01:47:40,818 - Querying provider APIs
INFO: 2017-02-13 01:47:40,818 - Querying api: expedia
INFO: 2017-02-13 01:47:42,851 - Merging results
INFO: 2017-02-13 01:47:42,852 - Returning Results
ERROR: 2017-02-13 01:47:42,853 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Encoding': 'gzip, deflate', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Accept': '*/*', 'User-Agent': 'python-requests/2.13.0'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 107, in get_new_results
    raise gen.Return(merged_results + old_results + new_results)
TypeError: unsupported operand type(s) for +: 'generator' and 'list'
ERROR: 2017-02-13 01:47:42,857 - 500 GET /flights/search (::1) 2039.15ms
INFO: 2017-02-13 01:48:23,618 - myapi.py modified; restarting server
INFO: 2017-02-13 01:48:46,325 - Querying provider APIs
INFO: 2017-02-13 01:48:46,325 - Querying api: expedia
INFO: 2017-02-13 01:48:48,359 - Merging results
INFO: 2017-02-13 01:48:48,359 - Returning Results
ERROR: 2017-02-13 01:48:48,360 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"09215cb7f361465ce3919f1b0aa196863aadea12"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 107, in get_new_results
    raise gen.Return(merged_results + old_results + new_results)
TypeError: unsupported operand type(s) for +: 'generator' and 'list'
ERROR: 2017-02-13 01:48:48,362 - 500 GET /flights/search (::1) 2038.23ms
INFO: 2017-02-13 01:49:17,706 - myapi.py modified; restarting server
INFO: 2017-02-13 01:49:18,981 - Querying provider APIs
INFO: 2017-02-13 01:49:18,981 - Querying api: expedia
INFO: 2017-02-13 01:49:20,991 - Merging results
INFO: 2017-02-13 01:49:20,992 - Returning Results
ERROR: 2017-02-13 01:49:20,992 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 109, in get_new_results
    raise gen.Return(merged_results + old_results + new_results)
TypeError: unsupported operand type(s) for +: 'generator' and 'list'
ERROR: 2017-02-13 01:49:20,993 - 500 GET /flights/search (::1) 2012.57ms
INFO: 2017-02-13 01:49:59,792 - myapi.py modified; restarting server
INFO: 2017-02-13 01:50:00,845 - Querying provider APIs
INFO: 2017-02-13 01:50:00,846 - Querying api: expedia
INFO: 2017-02-13 01:50:02,858 - Merging results
INFO: 2017-02-13 01:50:02,858 - Returning Results
ERROR: 2017-02-13 01:50:02,858 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 111, in get_new_results
    raise gen.Return(merged_results + old_results + new_results)
TypeError: unsupported operand type(s) for +: 'generator' and 'list'
ERROR: 2017-02-13 01:50:02,859 - 500 GET /flights/search (::1) 2013.80ms
INFO: 2017-02-13 01:50:18,378 - myapi.py modified; restarting server
INFO: 2017-02-13 01:50:19,154 - Querying provider APIs
INFO: 2017-02-13 01:50:19,154 - Querying api: expedia
INFO: 2017-02-13 01:50:21,187 - Merging results
INFO: 2017-02-13 01:50:21,188 - Returning Results
INFO: 2017-02-13 01:50:21,188 - Querying api: orbitz
INFO: 2017-02-13 01:50:23,197 - Merging results
ERROR: 2017-02-13 01:50:23,199 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-13 01:50:23,203 - 500 GET /flights/search (::1) 4049.44ms
INFO: 2017-02-13 01:50:31,477 - myapi.py modified; restarting server
INFO: 2017-02-13 01:50:34,008 - Querying provider APIs
INFO: 2017-02-13 01:50:34,008 - Querying api: expedia
INFO: 2017-02-13 01:50:36,020 - Merging results
INFO: 2017-02-13 01:50:36,020 - Returning Results
INFO: 2017-02-13 01:50:36,021 - Querying api: orbitz
INFO: 2017-02-13 01:50:38,027 - Merging results
ERROR: 2017-02-13 01:50:38,028 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-13 01:50:38,029 - 500 GET /flights/search (::1) 4022.23ms
INFO: 2017-02-13 01:51:06,041 - myapi.py modified; restarting server
INFO: 2017-02-13 01:51:06,767 - Querying provider APIs
INFO: 2017-02-13 01:51:06,768 - Querying api: expedia
INFO: 2017-02-13 01:51:08,800 - Merging results
INFO: 2017-02-13 01:51:08,800 - Returning Results
INFO: 2017-02-13 01:51:08,800 - Querying api: orbitz
INFO: 2017-02-13 01:51:10,807 - Merging results
ERROR: 2017-02-13 01:51:10,808 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-13 01:51:10,808 - 500 GET /flights/search (::1) 4041.60ms
INFO: 2017-02-13 01:51:59,103 - myapi.py modified; restarting server
INFO: 2017-02-13 01:52:01,682 - myapi.py modified; restarting server
INFO: 2017-02-13 01:52:15,794 - Querying provider APIs
INFO: 2017-02-13 01:52:15,794 - Querying api: expedia
INFO: 2017-02-13 01:52:17,806 - Merging results
INFO: 2017-02-13 01:52:17,806 - Returning Results
INFO: 2017-02-13 01:52:17,806 - Querying api: orbitz
INFO: 2017-02-13 01:52:19,814 - Merging results
ERROR: 2017-02-13 01:52:19,817 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-13 01:52:19,820 - 500 GET /flights/search (::1) 4028.04ms
INFO: 2017-02-13 01:52:32,241 - myapi.py modified; restarting server
INFO: 2017-02-13 01:52:32,855 - Querying provider APIs
INFO: 2017-02-13 01:52:32,856 - Querying api: expedia
INFO: 2017-02-13 01:52:34,887 - Merging results
INFO: 2017-02-13 01:52:34,888 - Returning Results
INFO: 2017-02-13 01:52:34,888 - Querying api: orbitz
INFO: 2017-02-13 01:52:36,896 - Merging results
INFO: 2017-02-13 01:52:36,899 - Returning Results
INFO: 2017-02-13 01:52:36,900 - Querying api: priceline
INFO: 2017-02-13 01:52:38,907 - Merging results
INFO: 2017-02-13 01:52:38,908 - Returning Results
INFO: 2017-02-13 01:52:38,908 - Querying api: travelocity
INFO: 2017-02-13 01:52:40,919 - Merging results
INFO: 2017-02-13 01:52:40,924 - Returning Results
INFO: 2017-02-13 01:52:40,925 - Querying api: united
INFO: 2017-02-13 01:52:42,966 - Merging results
INFO: 2017-02-13 01:52:42,970 - Returning Results
INFO: 2017-02-13 01:52:42,970 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:52:42,989 - 200 GET /flights/search (::1) 10134.83ms
INFO: 2017-02-13 01:55:11,855 - myapi.py modified; restarting server
INFO: 2017-02-13 01:55:23,971 - myapi.py modified; restarting server
INFO: 2017-02-13 01:55:26,245 - Querying provider APIs
INFO: 2017-02-13 01:55:26,245 - Querying api: expedia
INFO: 2017-02-13 01:55:28,256 - Returning Results
INFO: 2017-02-13 01:55:28,257 - Querying api: orbitz
INFO: 2017-02-13 01:55:30,266 - Returning Results
INFO: 2017-02-13 01:55:30,267 - Querying api: priceline
INFO: 2017-02-13 01:55:32,284 - Returning Results
INFO: 2017-02-13 01:55:32,285 - Querying api: travelocity
INFO: 2017-02-13 01:55:34,296 - Returning Results
INFO: 2017-02-13 01:55:34,297 - Querying api: united
INFO: 2017-02-13 01:55:36,311 - Returning Results
INFO: 2017-02-13 01:55:36,311 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:55:36,332 - 200 GET /flights/search (::1) 10087.84ms
INFO: 2017-02-13 01:56:09,969 - Querying provider APIs
INFO: 2017-02-13 01:56:09,969 - Querying api: expedia
INFO: 2017-02-13 01:56:11,981 - Returning Results
INFO: 2017-02-13 01:56:11,982 - Querying api: orbitz
INFO: 2017-02-13 01:56:13,990 - Returning Results
INFO: 2017-02-13 01:56:13,991 - Querying api: priceline
INFO: 2017-02-13 01:56:16,007 - Returning Results
INFO: 2017-02-13 01:56:16,007 - Querying api: travelocity
INFO: 2017-02-13 01:56:18,010 - Returning Results
INFO: 2017-02-13 01:56:18,010 - Querying api: united
INFO: 2017-02-13 01:56:20,051 - Returning Results
INFO: 2017-02-13 01:56:20,052 - Finished merging results. Writing to server.
INFO: 2017-02-13 01:56:20,077 - 200 GET /flights/search (::1) 10107.85ms
INFO: 2017-02-13 03:21:03,041 - myapi.py modified; restarting server
INFO: 2017-02-13 03:21:10,641 - Querying provider APIs
INFO: 2017-02-13 03:21:10,641 - Querying api: expedia
INFO: 2017-02-13 03:21:10,641 - Querying api: orbitz
INFO: 2017-02-13 03:21:10,642 - Querying api: priceline
INFO: 2017-02-13 03:21:10,642 - Querying api: travelocity
INFO: 2017-02-13 03:21:10,642 - Querying api: united
INFO: 2017-02-13 03:21:10,642 - Finished merging results. Writing to server.
ERROR: 2017-02-13 03:21:10,642 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Encoding': 'gzip, deflate', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Accept': '*/*', 'User-Agent': 'python-requests/2.13.0'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 89, in get
    self.write({"results": list(results)})
TypeError: 'Future' object is not iterable
ERROR: 2017-02-13 03:21:10,643 - 500 GET /flights/search (::1) 2.18ms
ERROR: 2017-02-13 03:21:12,653 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7fed1e1ab490>
ERROR: 2017-02-13 03:21:12,670 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7fed1e1abf50>
ERROR: 2017-02-13 03:21:12,670 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7fed1e1ab510>
ERROR: 2017-02-13 03:21:12,670 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7fed1e1ab950>
ERROR: 2017-02-13 03:21:12,670 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7fed1e1abd50>
INFO: 2017-02-13 03:22:17,125 - myapi.py modified; restarting server
INFO: 2017-02-13 03:22:23,503 - Querying provider APIs
INFO: 2017-02-13 03:22:23,504 - Querying api: expedia
INFO: 2017-02-13 03:22:23,504 - Querying api: orbitz
INFO: 2017-02-13 03:22:23,504 - Querying api: priceline
INFO: 2017-02-13 03:22:23,504 - Querying api: travelocity
INFO: 2017-02-13 03:22:23,504 - Querying api: united
INFO: 2017-02-13 03:22:23,504 - Finished merging results. Writing to server.
ERROR: 2017-02-13 03:22:23,504 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Encoding': 'gzip, deflate', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Accept': '*/*', 'User-Agent': 'python-requests/2.13.0'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 89, in get
    self.write({"results": list(results)})
TypeError: 'Future' object is not iterable
ERROR: 2017-02-13 03:22:23,505 - 500 GET /flights/search (::1) 2.03ms
ERROR: 2017-02-13 03:22:25,519 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7f1fd5120750>
ERROR: 2017-02-13 03:22:25,519 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7f1fd4fd5990>
ERROR: 2017-02-13 03:22:25,528 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7f1fd4fd5a10>
ERROR: 2017-02-13 03:22:25,533 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7f1fd5120810>
ERROR: 2017-02-13 03:22:25,533 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield iter([r.serialize() for r in query_results])
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object <listiterator object at 0x7f1fd5120510>
INFO: 2017-02-13 03:24:06,193 - myapi.py modified; restarting server
INFO: 2017-02-13 03:24:08,707 - Querying provider APIs
INFO: 2017-02-13 03:24:08,707 - Querying api: expedia
INFO: 2017-02-13 03:24:08,707 - Querying api: orbitz
INFO: 2017-02-13 03:24:08,707 - Querying api: priceline
INFO: 2017-02-13 03:24:08,707 - Querying api: travelocity
INFO: 2017-02-13 03:24:08,707 - Querying api: united
INFO: 2017-02-13 03:24:08,707 - Finished merging results. Writing to server.
ERROR: 2017-02-13 03:24:08,708 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Encoding': 'gzip, deflate', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Accept': '*/*', 'User-Agent': 'python-requests/2.13.0'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 89, in get
    self.write({"results": list(results)})
TypeError: 'Future' object is not iterable
ERROR: 2017-02-13 03:24:08,708 - 500 GET /flights/search (::1) 2.05ms
ERROR: 2017-02-13 03:24:10,774 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:10,774 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:10,774 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:10,774 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:10,774 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
INFO: 2017-02-13 03:24:22,572 - Querying provider APIs
INFO: 2017-02-13 03:24:22,573 - Querying api: expedia
INFO: 2017-02-13 03:24:22,573 - Querying api: orbitz
INFO: 2017-02-13 03:24:22,573 - Querying api: priceline
INFO: 2017-02-13 03:24:22,573 - Querying api: travelocity
INFO: 2017-02-13 03:24:22,573 - Querying api: united
INFO: 2017-02-13 03:24:22,573 - Finished merging results. Writing to server.
ERROR: 2017-02-13 03:24:22,574 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"a2ca1a72e3581a785090302d163451d5e5818321"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 89, in get
    self.write({"results": list(results)})
TypeError: 'Future' object is not iterable
ERROR: 2017-02-13 03:24:22,574 - 500 GET /flights/search (::1) 2.14ms
ERROR: 2017-02-13 03:24:24,597 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:24,598 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:24,599 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:24,606 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:24,607 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
INFO: 2017-02-13 03:24:38,781 - myapi.py modified; restarting server
INFO: 2017-02-13 03:24:55,909 - Querying provider APIs
INFO: 2017-02-13 03:24:55,909 - Querying api: expedia
INFO: 2017-02-13 03:24:55,910 - Querying api: orbitz
INFO: 2017-02-13 03:24:55,910 - Querying api: priceline
INFO: 2017-02-13 03:24:55,910 - Querying api: travelocity
INFO: 2017-02-13 03:24:55,910 - Querying api: united
INFO: 2017-02-13 03:24:55,910 - Finished merging results. Writing to server.
ERROR: 2017-02-13 03:24:55,911 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 89, in get
    self.write({"results": list(results)})
TypeError: 'Future' object is not iterable
ERROR: 2017-02-13 03:24:55,913 - 500 GET /flights/search (::1) 3.69ms
ERROR: 2017-02-13 03:24:57,922 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:57,943 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:57,943 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:57,943 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-13 03:24:57,943 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 94, in merge_results
    api_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 119, in query_api
    yield [r.serialize() for r in query_results]
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
INFO: 2017-02-13 19:53:21,565 - myapi.py modified; restarting server
INFO: 2017-02-13 19:53:25,909 - Querying provider APIs
INFO: 2017-02-13 19:53:25,909 - Querying api: expedia
INFO: 2017-02-13 19:53:25,910 - Querying api: orbitz
INFO: 2017-02-13 19:53:25,910 - Querying api: priceline
INFO: 2017-02-13 19:53:25,911 - Querying api: travelocity
INFO: 2017-02-13 19:53:25,911 - Querying api: united
INFO: 2017-02-13 19:53:25,912 - Finished merging results. Writing to server.
INFO: 2017-02-13 19:53:25,913 - 200 GET /flights/search (::1) 5.64ms
ERROR: 2017-02-13 19:53:27,918 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 121, in query_api
    yield q.put([r.serialize() for r in query_results])
NameError: global name 'q' is not defined
ERROR: 2017-02-13 19:53:27,928 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 121, in query_api
    yield q.put([r.serialize() for r in query_results])
NameError: global name 'q' is not defined
ERROR: 2017-02-13 19:53:27,928 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 121, in query_api
    yield q.put([r.serialize() for r in query_results])
NameError: global name 'q' is not defined
ERROR: 2017-02-13 19:53:27,928 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 121, in query_api
    yield q.put([r.serialize() for r in query_results])
NameError: global name 'q' is not defined
ERROR: 2017-02-13 19:53:27,928 - Future exception was never retrieved: Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 121, in query_api
    yield q.put([r.serialize() for r in query_results])
NameError: global name 'q' is not defined
INFO: 2017-02-14 18:52:53,137 - myapi.py modified; restarting server
WARNING: 2017-02-14 18:53:04,720 - 404 GET / (::1) 3.64ms
INFO: 2017-02-14 18:53:07,255 - Querying provider APIs
INFO: 2017-02-14 18:53:07,256 - Querying api: expedia
INFO: 2017-02-14 18:53:07,792 - Querying provider APIs
INFO: 2017-02-14 18:53:07,792 - Querying api: expedia
INFO: 2017-02-14 18:53:09,288 - Merging results
INFO: 2017-02-14 18:53:09,289 - Returning Results
INFO: 2017-02-14 18:53:09,289 - Querying api: orbitz
INFO: 2017-02-14 18:53:09,823 - Merging results
INFO: 2017-02-14 18:53:09,824 - Returning Results
INFO: 2017-02-14 18:53:09,824 - Querying api: orbitz
INFO: 2017-02-14 18:53:11,297 - Merging results
ERROR: 2017-02-14 18:53:11,300 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'If-None-Match': '"6cb2797a39ae4e65ff54fbc6721c324f1f993f44"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-14 18:53:11,318 - 500 GET /flights/search (::1) 4063.80ms
INFO: 2017-02-14 18:53:11,833 - Merging results
ERROR: 2017-02-14 18:53:11,834 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-14 18:53:11,836 - 500 GET /flights/search (::1) 4043.84ms
INFO: 2017-02-14 18:53:47,482 - myapi.py modified; restarting server
INFO: 2017-02-14 18:53:50,017 - Querying provider APIs
INFO: 2017-02-14 18:53:50,017 - Querying api: expedia
INFO: 2017-02-14 18:53:52,051 - Merging results
INFO: 2017-02-14 18:53:52,051 - Returning Results
INFO: 2017-02-14 18:53:52,051 - Querying api: orbitz
INFO: 2017-02-14 18:53:54,058 - Merging results
ERROR: 2017-02-14 18:53:54,058 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 106, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-14 18:53:54,059 - 500 GET /flights/search (::1) 4042.74ms
INFO: 2017-02-14 18:54:24,581 - myapi.py modified; restarting server
INFO: 2017-02-14 18:54:26,619 - Querying provider APIs
INFO: 2017-02-14 18:54:26,620 - Querying api: expedia
INFO: 2017-02-14 18:54:28,653 - Merging results
INFO: 2017-02-14 18:54:28,654 - Returning Results
INFO: 2017-02-14 18:54:28,654 - Querying api: orbitz
INFO: 2017-02-14 18:54:30,661 - Merging results
INFO: 2017-02-14 18:54:30,662 - Returning Results
INFO: 2017-02-14 18:54:30,662 - Querying api: priceline
INFO: 2017-02-14 18:54:32,669 - Merging results
INFO: 2017-02-14 18:54:32,670 - Returning Results
INFO: 2017-02-14 18:54:32,670 - Querying api: travelocity
INFO: 2017-02-14 18:54:34,673 - Merging results
INFO: 2017-02-14 18:54:34,674 - Returning Results
INFO: 2017-02-14 18:54:34,674 - Querying api: united
INFO: 2017-02-14 18:54:36,688 - Merging results
INFO: 2017-02-14 18:54:36,690 - Returning Results
INFO: 2017-02-14 18:54:36,746 - Finished merging results. Writing to server.
INFO: 2017-02-14 18:54:36,760 - 200 GET /flights/search (::1) 10141.16ms
INFO: 2017-02-14 18:56:46,159 - myapi.py modified; restarting server
INFO: 2017-02-14 18:56:48,619 - Querying provider APIs
INFO: 2017-02-14 18:56:48,619 - Querying api: expedia
INFO: 2017-02-14 18:56:50,631 - Merging results
ERROR: 2017-02-14 18:56:50,632 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"e7520aec30305d55f17e7dfdd895b7d868fc57b9"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 98, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-14 18:56:50,633 - 500 GET /flights/search (::1) 2015.30ms
INFO: 2017-02-14 18:57:01,240 - myapi.py modified; restarting server
INFO: 2017-02-14 18:57:01,752 - Querying provider APIs
INFO: 2017-02-14 18:57:01,753 - Querying api: expedia
INFO: 2017-02-14 18:57:03,765 - Merging results
INFO: 2017-02-14 18:57:03,765 - Returning Results
INFO: 2017-02-14 18:57:03,765 - Querying api: orbitz
INFO: 2017-02-14 18:57:05,771 - Merging results
ERROR: 2017-02-14 18:57:05,773 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 98, in get_new_results
    yield old_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-14 18:57:05,774 - 500 GET /flights/search (::1) 4022.60ms
INFO: 2017-02-14 18:57:13,728 - Querying provider APIs
INFO: 2017-02-14 18:57:13,728 - Querying api: expedia
INFO: 2017-02-14 18:57:15,096 - Querying provider APIs
INFO: 2017-02-14 18:57:15,096 - Querying api: expedia
INFO: 2017-02-14 18:57:15,740 - Merging results
INFO: 2017-02-14 18:57:15,740 - Returning Results
INFO: 2017-02-14 18:57:15,740 - Querying api: orbitz
INFO: 2017-02-14 18:57:17,107 - Merging results
INFO: 2017-02-14 18:57:17,107 - Returning Results
INFO: 2017-02-14 18:57:17,108 - Querying api: orbitz
INFO: 2017-02-14 18:57:17,746 - Merging results
ERROR: 2017-02-14 18:57:17,747 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 98, in get_new_results
    yield old_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-14 18:57:17,748 - 500 GET /flights/search (::1) 4019.63ms
INFO: 2017-02-14 18:57:19,114 - Merging results
ERROR: 2017-02-14 18:57:19,115 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 98, in get_new_results
    yield old_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-14 18:57:19,115 - 500 GET /flights/search (::1) 4020.44ms
INFO: 2017-02-14 18:57:58,334 - myapi.py modified; restarting server
INFO: 2017-02-14 18:57:58,420 - Started
INFO: 2017-02-14 18:57:58,421 - Listening on port 8000
INFO: 2017-02-14 18:58:02,509 - Querying provider APIs
INFO: 2017-02-14 18:58:02,510 - Querying api: expedia
INFO: 2017-02-14 18:58:04,543 - Merging results
INFO: 2017-02-14 18:58:04,544 - Returning Results
INFO: 2017-02-14 18:58:04,544 - Querying api: orbitz
INFO: 2017-02-14 18:58:06,550 - Merging results
ERROR: 2017-02-14 18:58:06,551 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 83, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 98, in get_new_results
    yield old_results
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 1.8009004502251125
ERROR: 2017-02-14 18:58:06,552 - 500 GET /flights/search (::1) 4044.70ms
INFO: 2017-02-14 18:58:34,923 - myapi.py modified; restarting server
INFO: 2017-02-14 18:58:35,012 - Started
INFO: 2017-02-14 18:58:35,013 - Listening on port 8000
INFO: 2017-02-14 18:58:38,014 - myapi.py modified; restarting server
INFO: 2017-02-14 18:58:38,069 - Started
INFO: 2017-02-14 18:58:38,069 - Listening on port 8000
INFO: 2017-02-14 18:58:39,556 - Querying provider APIs
INFO: 2017-02-14 18:58:39,556 - Querying api: expedia
INFO: 2017-02-14 18:58:41,567 - Merging results
INFO: 2017-02-14 18:58:41,567 - Returning Results
INFO: 2017-02-14 18:58:41,567 - Querying api: orbitz
INFO: 2017-02-14 18:58:43,575 - Merging results
INFO: 2017-02-14 18:58:43,577 - Returning Results
INFO: 2017-02-14 18:58:43,578 - Querying api: priceline
INFO: 2017-02-14 18:58:45,583 - Merging results
INFO: 2017-02-14 18:58:45,586 - Returning Results
INFO: 2017-02-14 18:58:45,586 - Querying api: travelocity
INFO: 2017-02-14 18:58:47,593 - Merging results
INFO: 2017-02-14 18:58:47,594 - Returning Results
INFO: 2017-02-14 18:58:47,595 - Querying api: united
INFO: 2017-02-14 18:58:49,609 - Merging results
INFO: 2017-02-14 18:58:49,610 - Returning Results
INFO: 2017-02-14 18:58:49,611 - Finished merging results. Writing to server.
INFO: 2017-02-14 18:58:49,626 - 200 GET /flights/search (::1) 10070.09ms
INFO: 2017-02-14 18:58:59,071 - myapi.py modified; restarting server
INFO: 2017-02-14 18:58:59,157 - Started
INFO: 2017-02-14 18:58:59,158 - Listening on port 8000
INFO: 2017-02-14 18:59:00,037 - Querying provider APIs
INFO: 2017-02-14 18:59:00,038 - Querying api: expedia
INFO: 2017-02-14 18:59:02,072 - Merging results
INFO: 2017-02-14 18:59:02,072 - Returning Results
INFO: 2017-02-14 18:59:02,072 - Querying api: orbitz
INFO: 2017-02-14 18:59:04,079 - Merging results
INFO: 2017-02-14 18:59:04,116 - Returning Results
INFO: 2017-02-14 18:59:04,116 - Querying api: priceline
INFO: 2017-02-14 18:59:06,133 - Merging results
INFO: 2017-02-14 18:59:06,179 - Returning Results
INFO: 2017-02-14 18:59:06,179 - Querying api: travelocity
INFO: 2017-02-14 18:59:08,190 - Merging results
INFO: 2017-02-14 18:59:08,251 - Returning Results
INFO: 2017-02-14 18:59:08,252 - Querying api: united
INFO: 2017-02-14 18:59:10,266 - Merging results
INFO: 2017-02-14 18:59:10,276 - Returning Results
INFO: 2017-02-14 18:59:10,276 - Finished merging results. Writing to server.
INFO: 2017-02-14 18:59:10,289 - 200 GET /flights/search (::1) 10252.79ms
INFO: 2017-02-14 19:21:22,658 - myapi.py modified; restarting server
INFO: 2017-02-14 19:21:22,743 - Started
INFO: 2017-02-14 19:21:22,745 - Listening on port 8000
INFO: 2017-02-14 19:21:27,747 - myapi.py modified; restarting server
INFO: 2017-02-14 19:21:27,849 - Started
INFO: 2017-02-14 19:21:27,852 - Listening on port 8000
INFO: 2017-02-14 19:21:35,853 - myapi.py modified; restarting server
INFO: 2017-02-14 19:21:35,961 - Started
INFO: 2017-02-14 19:21:35,962 - Listening on port 8000
INFO: 2017-02-14 19:21:40,276 - Querying provider APIs
INFO: 2017-02-14 19:21:40,276 - Querying api: expedia
INFO: 2017-02-14 19:21:42,316 - Merging results
ERROR: 2017-02-14 19:21:42,319 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"9c9a9bee4c7bc84f61d0fb3d83f86206c2602670"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 82, in get
    temp = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 100, in get_new_results
    yield
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object None
ERROR: 2017-02-14 19:21:42,323 - 500 GET /flights/search (::1) 2047.94ms
INFO: 2017-02-14 19:21:53,964 - myapi.py modified; restarting server
INFO: 2017-02-14 19:21:54,046 - Started
INFO: 2017-02-14 19:21:54,047 - Listening on port 8000
INFO: 2017-02-14 19:21:55,913 - Querying provider APIs
INFO: 2017-02-14 19:21:55,914 - Querying api: expedia
INFO: 2017-02-14 19:21:57,935 - Merging results
INFO: 2017-02-14 19:21:57,935 - Returning Results
INFO: 2017-02-14 19:21:57,936 - Querying api: orbitz
INFO: 2017-02-14 19:21:59,944 - Merging results
INFO: 2017-02-14 19:21:59,985 - Returning Results
INFO: 2017-02-14 19:21:59,985 - Querying api: priceline
INFO: 2017-02-14 19:22:02,003 - Merging results
INFO: 2017-02-14 19:22:02,051 - Returning Results
INFO: 2017-02-14 19:22:02,051 - Querying api: travelocity
INFO: 2017-02-14 19:22:04,062 - Merging results
INFO: 2017-02-14 19:22:04,097 - Returning Results
INFO: 2017-02-14 19:22:04,097 - Querying api: united
INFO: 2017-02-14 19:22:06,137 - Merging results
INFO: 2017-02-14 19:22:06,172 - Returning Results
INFO: 2017-02-14 19:22:06,174 - Finished merging results. Writing to server.
INFO: 2017-02-14 19:22:06,190 - 200 GET /flights/search (::1) 10278.02ms
INFO: 2017-02-14 19:22:07,048 - myapi.py modified; restarting server
INFO: 2017-02-14 19:22:07,137 - Started
INFO: 2017-02-14 19:22:07,138 - Listening on port 8000
INFO: 2017-02-14 19:31:20,640 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py modified; restarting server
INFO: 2017-02-14 19:31:20,921 - Started
INFO: 2017-02-14 19:31:20,938 - Listening on port 8000
INFO: 2017-02-14 19:31:27,242 - Querying provider APIs
INFO: 2017-02-14 19:31:27,243 - Querying api: expedia
INFO: 2017-02-14 19:31:29,245 - Merging results
INFO: 2017-02-14 19:31:29,245 - Returning Results
INFO: 2017-02-14 19:31:29,245 - Querying api: orbitz
INFO: 2017-02-14 19:31:31,252 - Merging results
INFO: 2017-02-14 19:31:31,252 - Returning Results
INFO: 2017-02-14 19:31:31,252 - Querying api: priceline
INFO: 2017-02-14 19:31:33,261 - Merging results
INFO: 2017-02-14 19:31:33,261 - Returning Results
INFO: 2017-02-14 19:31:33,262 - Querying api: travelocity
INFO: 2017-02-14 19:31:35,270 - Merging results
INFO: 2017-02-14 19:31:35,271 - Returning Results
INFO: 2017-02-14 19:31:35,271 - Querying api: united
INFO: 2017-02-14 19:31:36,201 - Querying provider APIs
INFO: 2017-02-14 19:31:36,202 - Querying api: expedia
INFO: 2017-02-14 19:31:37,285 - Merging results
INFO: 2017-02-14 19:31:37,287 - Returning Results
INFO: 2017-02-14 19:31:37,287 - Finished merging results. Writing to server.
INFO: 2017-02-14 19:31:37,296 - 200 GET /flights/search (::1) 10054.54ms
INFO: 2017-02-14 19:31:38,203 - Merging results
INFO: 2017-02-14 19:31:38,204 - Returning Results
INFO: 2017-02-14 19:31:38,204 - Querying api: orbitz
INFO: 2017-02-14 19:31:40,210 - Merging results
INFO: 2017-02-14 19:31:40,210 - Returning Results
INFO: 2017-02-14 19:31:40,210 - Querying api: priceline
INFO: 2017-02-14 19:31:42,216 - Merging results
INFO: 2017-02-14 19:31:42,217 - Returning Results
INFO: 2017-02-14 19:31:42,217 - Querying api: travelocity
INFO: 2017-02-14 19:31:44,223 - Merging results
INFO: 2017-02-14 19:31:44,224 - Returning Results
INFO: 2017-02-14 19:31:44,224 - Querying api: united
INFO: 2017-02-14 19:31:46,238 - Merging results
INFO: 2017-02-14 19:31:46,239 - Returning Results
INFO: 2017-02-14 19:31:46,239 - Finished merging results. Writing to server.
INFO: 2017-02-14 19:31:46,247 - 200 GET /flights/search (::1) 10046.79ms
INFO: 2017-02-14 19:32:06,925 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py modified; restarting server
INFO: 2017-02-14 19:32:07,013 - Started
INFO: 2017-02-14 19:32:07,014 - Listening on port 8000
INFO: 2017-02-14 19:32:07,664 - Querying provider APIs
INFO: 2017-02-14 19:32:07,664 - Querying api: expedia
INFO: 2017-02-14 19:32:09,675 - Merging results
INFO: 2017-02-14 19:32:09,675 - Returning Results
INFO: 2017-02-14 19:32:09,675 - Querying api: orbitz
INFO: 2017-02-14 19:32:11,681 - Merging results
INFO: 2017-02-14 19:32:11,681 - Returning Results
INFO: 2017-02-14 19:32:11,682 - Querying api: priceline
INFO: 2017-02-14 19:32:13,689 - Merging results
INFO: 2017-02-14 19:32:13,690 - Returning Results
INFO: 2017-02-14 19:32:13,690 - Querying api: travelocity
INFO: 2017-02-14 19:32:15,702 - Merging results
INFO: 2017-02-14 19:32:15,708 - Returning Results
INFO: 2017-02-14 19:32:15,710 - Querying api: united
INFO: 2017-02-14 19:32:17,752 - Merging results
INFO: 2017-02-14 19:32:17,756 - Returning Results
INFO: 2017-02-14 19:32:17,756 - Finished merging results. Writing to server.
INFO: 2017-02-14 19:32:17,775 - 200 GET /flights/search (::1) 10111.20ms
INFO: 2017-02-14 19:43:34,516 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py modified; restarting server
INFO: 2017-02-14 19:43:34,574 - Started
INFO: 2017-02-14 19:43:34,575 - Listening on port 8000
INFO: 2017-02-14 19:44:16,075 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/__init__.py modified; restarting server
INFO: 2017-02-14 19:46:59,694 - Started
INFO: 2017-02-14 19:46:59,695 - Listening on port 8000
INFO: 2017-02-14 19:47:04,759 - Querying provider APIs
INFO: 2017-02-14 19:47:04,759 - Querying api: expedia
INFO: 2017-02-14 19:47:06,778 - Merging results
INFO: 2017-02-14 19:47:06,778 - Returning Results
INFO: 2017-02-14 19:47:06,778 - Querying api: orbitz
INFO: 2017-02-14 19:47:08,785 - Merging results
INFO: 2017-02-14 19:47:08,786 - Returning Results
INFO: 2017-02-14 19:47:08,787 - Querying api: priceline
INFO: 2017-02-14 19:47:10,794 - Merging results
INFO: 2017-02-14 19:47:10,795 - Returning Results
INFO: 2017-02-14 19:47:10,795 - Querying api: travelocity
INFO: 2017-02-14 19:47:12,802 - Merging results
INFO: 2017-02-14 19:47:12,803 - Returning Results
INFO: 2017-02-14 19:47:12,803 - Querying api: united
INFO: 2017-02-14 19:47:14,817 - Merging results
INFO: 2017-02-14 19:47:14,819 - Returning Results
INFO: 2017-02-14 19:47:14,819 - Finished merging results. Writing to server.
INFO: 2017-02-14 19:47:14,832 - 200 GET /flights/search (::1) 10074.01ms
INFO: 2017-02-14 19:47:26,695 - myapi.py modified; restarting server
INFO: 2017-02-14 19:47:26,771 - Started
INFO: 2017-02-14 19:47:26,773 - Listening on port 8000
INFO: 2017-02-14 19:47:32,469 - Querying provider APIs
INFO: 2017-02-14 19:47:32,470 - Querying api: expedia
INFO: 2017-02-14 19:47:34,482 - Merging results
INFO: 2017-02-14 19:47:34,482 - Returning Results
INFO: 2017-02-14 19:47:34,482 - Querying api: orbitz
INFO: 2017-02-14 19:47:36,488 - Merging results
INFO: 2017-02-14 19:47:36,488 - Returning Results
INFO: 2017-02-14 19:47:36,489 - Querying api: priceline
INFO: 2017-02-14 19:47:38,496 - Merging results
INFO: 2017-02-14 19:47:38,497 - Returning Results
INFO: 2017-02-14 19:47:38,497 - Querying api: travelocity
INFO: 2017-02-14 19:47:40,504 - Merging results
INFO: 2017-02-14 19:47:40,505 - Returning Results
INFO: 2017-02-14 19:47:40,505 - Querying api: united
INFO: 2017-02-14 19:47:42,547 - Merging results
INFO: 2017-02-14 19:47:42,550 - Returning Results
INFO: 2017-02-14 19:47:42,550 - Querying api: testscraper1
INFO: 2017-02-14 19:47:44,561 - Merging results
INFO: 2017-02-14 19:47:44,564 - Returning Results
INFO: 2017-02-14 19:47:44,564 - Querying api: testscraper2
INFO: 2017-02-14 19:47:46,596 - Merging results
INFO: 2017-02-14 19:47:46,605 - Returning Results
INFO: 2017-02-14 19:47:46,606 - Querying api: testscraper3
INFO: 2017-02-14 19:47:48,617 - Merging results
INFO: 2017-02-14 19:47:48,622 - Returning Results
INFO: 2017-02-14 19:47:48,623 - Querying api: testscraper4
INFO: 2017-02-14 19:47:50,630 - Merging results
INFO: 2017-02-14 19:47:50,637 - Returning Results
INFO: 2017-02-14 19:47:50,639 - Querying api: testscraper5
INFO: 2017-02-14 19:47:52,674 - Merging results
INFO: 2017-02-14 19:47:52,693 - Returning Results
INFO: 2017-02-14 19:47:52,693 - Querying api: testscraper6
INFO: 2017-02-14 19:47:54,704 - Merging results
INFO: 2017-02-14 19:47:54,714 - Returning Results
INFO: 2017-02-14 19:47:54,715 - Querying api: testscraper7
INFO: 2017-02-14 19:47:56,726 - Merging results
INFO: 2017-02-14 19:47:56,740 - Returning Results
INFO: 2017-02-14 19:47:56,741 - Querying api: testscraper8
INFO: 2017-02-14 19:47:58,761 - Merging results
INFO: 2017-02-14 19:47:58,782 - Returning Results
INFO: 2017-02-14 19:47:58,784 - Querying api: testscraper9
INFO: 2017-02-14 19:48:00,795 - Merging results
INFO: 2017-02-14 19:48:00,816 - Returning Results
INFO: 2017-02-14 19:48:00,817 - Querying api: testscraper10
INFO: 2017-02-14 19:48:02,828 - Merging results
INFO: 2017-02-14 19:48:02,851 - Returning Results
INFO: 2017-02-14 19:48:02,851 - Querying api: testscraper11
INFO: 2017-02-14 19:48:04,862 - Merging results
INFO: 2017-02-14 19:48:04,887 - Returning Results
INFO: 2017-02-14 19:48:04,891 - Querying api: testscraper12
INFO: 2017-02-14 19:48:06,905 - Merging results
INFO: 2017-02-14 19:48:06,933 - Returning Results
INFO: 2017-02-14 19:48:06,937 - Querying api: testscraper13
INFO: 2017-02-14 19:48:08,945 - Merging results
INFO: 2017-02-14 19:48:08,978 - Returning Results
INFO: 2017-02-14 19:48:08,980 - Finished merging results. Writing to server.
INFO: 2017-02-14 19:48:09,049 - 200 GET /flights/search (::1) 36581.30ms
INFO: 2017-02-14 19:48:55,274 - myapi.py modified; restarting server
INFO: 2017-02-14 19:48:55,343 - Started
INFO: 2017-02-14 19:48:55,344 - Listening on port 8000
INFO: 2017-02-14 19:49:16,806 - Querying api: expedia
INFO: 2017-02-14 19:49:16,807 - Querying api: orbitz
INFO: 2017-02-14 19:49:16,807 - Querying api: priceline
INFO: 2017-02-14 19:49:16,807 - Querying api: travelocity
INFO: 2017-02-14 19:49:16,807 - Querying api: united
INFO: 2017-02-14 19:49:16,808 - Querying api: testscraper1
INFO: 2017-02-14 19:49:16,808 - Querying api: testscraper2
INFO: 2017-02-14 19:49:16,808 - Querying api: testscraper3
INFO: 2017-02-14 19:49:16,809 - Querying api: testscraper4
INFO: 2017-02-14 19:49:16,809 - Querying api: testscraper5
INFO: 2017-02-14 19:49:16,809 - Querying api: testscraper6
INFO: 2017-02-14 19:49:16,809 - Querying api: testscraper7
INFO: 2017-02-14 19:49:16,809 - Querying api: testscraper8
INFO: 2017-02-14 19:49:16,810 - Querying api: testscraper9
INFO: 2017-02-14 19:49:16,810 - Querying api: testscraper10
INFO: 2017-02-14 19:49:16,810 - Querying api: testscraper11
INFO: 2017-02-14 19:49:16,810 - Querying api: testscraper12
INFO: 2017-02-14 19:49:16,810 - Querying api: testscraper13
INFO: 2017-02-14 19:49:19,019 - 200 GET /flights/search (::1) 2213.31ms
INFO: 2017-02-14 19:50:00,344 - myapi.py modified; restarting server
INFO: 2017-02-14 19:50:00,402 - Started
INFO: 2017-02-14 19:50:00,403 - Listening on port 8000
INFO: 2017-02-14 19:50:03,312 - Querying api: expedia
INFO: 2017-02-14 19:50:03,313 - Querying api: orbitz
INFO: 2017-02-14 19:50:03,313 - Querying api: priceline
INFO: 2017-02-14 19:50:03,314 - Querying api: travelocity
INFO: 2017-02-14 19:50:03,314 - Querying api: united
INFO: 2017-02-14 19:50:03,315 - Querying api: testscraper1
INFO: 2017-02-14 19:50:03,315 - Querying api: testscraper2
INFO: 2017-02-14 19:50:03,316 - Querying api: testscraper3
INFO: 2017-02-14 19:50:03,316 - Querying api: testscraper4
INFO: 2017-02-14 19:50:03,316 - Querying api: testscraper5
INFO: 2017-02-14 19:50:03,317 - Querying api: testscraper6
INFO: 2017-02-14 19:50:03,317 - Querying api: testscraper7
INFO: 2017-02-14 19:50:03,318 - Querying api: testscraper8
INFO: 2017-02-14 19:50:03,318 - Querying api: testscraper9
INFO: 2017-02-14 19:50:03,318 - Querying api: testscraper10
INFO: 2017-02-14 19:50:03,319 - Querying api: testscraper11
INFO: 2017-02-14 19:50:03,319 - Querying api: testscraper12
INFO: 2017-02-14 19:50:03,320 - Querying api: testscraper13
INFO: 2017-02-14 19:50:05,512 - 200 GET /flights/search (::1) 2200.77ms
INFO: 2017-02-14 19:50:25,846 - Querying api: expedia
INFO: 2017-02-14 19:50:25,847 - Querying api: orbitz
INFO: 2017-02-14 19:50:25,847 - Querying api: priceline
INFO: 2017-02-14 19:50:25,848 - Querying api: travelocity
INFO: 2017-02-14 19:50:25,848 - Querying api: united
INFO: 2017-02-14 19:50:25,849 - Querying api: testscraper1
INFO: 2017-02-14 19:50:25,849 - Querying api: testscraper2
INFO: 2017-02-14 19:50:25,849 - Querying api: testscraper3
INFO: 2017-02-14 19:50:25,849 - Querying api: testscraper4
INFO: 2017-02-14 19:50:25,849 - Querying api: testscraper5
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper6
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper7
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper8
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper9
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper10
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper11
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper12
INFO: 2017-02-14 19:50:25,850 - Querying api: testscraper13
INFO: 2017-02-14 19:50:28,062 - 304 GET /flights/search (::1) 2217.10ms
INFO: 2017-02-14 19:51:11,403 - myapi.py modified; restarting server
INFO: 2017-02-14 19:54:32,620 - Started
INFO: 2017-02-14 19:54:32,621 - Listening on port 8000
INFO: 2017-02-14 19:54:34,955 - Querying api: expedia
INFO: 2017-02-14 19:54:34,956 - Querying api: orbitz
INFO: 2017-02-14 19:54:34,957 - Querying api: priceline
INFO: 2017-02-14 19:54:34,957 - Querying api: travelocity
INFO: 2017-02-14 19:54:34,957 - Querying api: united
INFO: 2017-02-14 19:54:34,958 - Querying api: testscraper1
INFO: 2017-02-14 19:54:34,959 - Querying api: testscraper2
INFO: 2017-02-14 19:54:34,959 - Querying api: testscraper3
INFO: 2017-02-14 19:54:34,960 - Querying api: testscraper4
INFO: 2017-02-14 19:54:34,960 - Querying api: testscraper5
INFO: 2017-02-14 19:54:34,960 - Querying api: testscraper6
INFO: 2017-02-14 19:54:34,961 - Querying api: testscraper7
INFO: 2017-02-14 19:54:34,961 - Querying api: testscraper8
INFO: 2017-02-14 19:54:34,962 - Querying api: testscraper9
INFO: 2017-02-14 19:54:34,962 - Querying api: testscraper10
INFO: 2017-02-14 19:54:34,963 - Querying api: testscraper11
INFO: 2017-02-14 19:54:34,963 - Querying api: testscraper12
INFO: 2017-02-14 19:54:34,964 - Querying api: testscraper13
ERROR: 2017-02-14 19:54:34,968 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"f9b2782a4903300878ea288c2abf627d7965333d"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 104, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <tornado.concurrent.Future object at 0x7fdc95b98410> is not JSON serializable
ERROR: 2017-02-14 19:54:34,970 - 500 GET /flights/search (::1) 16.34ms
INFO: 2017-02-14 19:55:15,623 - myapi.py modified; restarting server
INFO: 2017-02-14 19:55:15,705 - Started
INFO: 2017-02-14 19:55:15,706 - Listening on port 8000
INFO: 2017-02-14 19:55:16,150 - Querying api: expedia
INFO: 2017-02-14 19:55:16,151 - Querying api: orbitz
INFO: 2017-02-14 19:55:16,151 - Querying api: priceline
INFO: 2017-02-14 19:55:16,151 - Querying api: travelocity
INFO: 2017-02-14 19:55:16,151 - Querying api: united
INFO: 2017-02-14 19:55:16,152 - Querying api: testscraper1
INFO: 2017-02-14 19:55:16,152 - Querying api: testscraper2
INFO: 2017-02-14 19:55:16,152 - Querying api: testscraper3
INFO: 2017-02-14 19:55:16,152 - Querying api: testscraper4
INFO: 2017-02-14 19:55:16,152 - Querying api: testscraper5
INFO: 2017-02-14 19:55:16,153 - Querying api: testscraper6
INFO: 2017-02-14 19:55:16,153 - Querying api: testscraper7
INFO: 2017-02-14 19:55:16,153 - Querying api: testscraper8
INFO: 2017-02-14 19:55:16,153 - Querying api: testscraper9
INFO: 2017-02-14 19:55:16,154 - Querying api: testscraper10
INFO: 2017-02-14 19:55:16,154 - Querying api: testscraper11
INFO: 2017-02-14 19:55:16,154 - Querying api: testscraper12
INFO: 2017-02-14 19:55:16,154 - Querying api: testscraper13
ERROR: 2017-02-14 19:55:16,155 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 270, in wrapper
    result = func(*args, **kwargs)
  File "myapi.py", line 104, in get
    self.write({"results": list(results)})
TypeError: 'Future' object is not iterable
ERROR: 2017-02-14 19:55:16,157 - 500 GET /flights/search (::1) 7.09ms
INFO: 2017-02-14 19:55:24,207 - myapi.py modified; restarting server
INFO: 2017-02-14 19:55:32,535 - Started
INFO: 2017-02-14 19:55:32,536 - Listening on port 8000
INFO: 2017-02-14 19:55:33,778 - Querying api: expedia
INFO: 2017-02-14 19:55:33,959 - Querying api: expedia
INFO: 2017-02-14 19:55:35,790 - Querying api: orbitz
INFO: 2017-02-14 19:55:35,990 - Querying api: orbitz
INFO: 2017-02-14 19:55:37,796 - Querying api: priceline
INFO: 2017-02-14 19:55:37,998 - Querying api: priceline
INFO: 2017-02-14 19:55:39,814 - Querying api: travelocity
INFO: 2017-02-14 19:55:40,015 - Querying api: travelocity
INFO: 2017-02-14 19:55:41,821 - Querying api: united
INFO: 2017-02-14 19:55:42,027 - Querying api: united
INFO: 2017-02-14 19:55:59,962 - Started
INFO: 2017-02-14 19:55:59,962 - Listening on port 8000
INFO: 2017-02-14 19:56:05,669 - Querying api: expedia
INFO: 2017-02-14 19:56:07,681 - Querying api: orbitz
INFO: 2017-02-14 19:56:09,687 - Querying api: priceline
INFO: 2017-02-14 19:56:11,703 - Querying api: travelocity
INFO: 2017-02-14 19:56:13,711 - Querying api: united
INFO: 2017-02-14 19:56:15,725 - Querying api: testscraper1
INFO: 2017-02-14 19:56:17,736 - Querying api: testscraper2
INFO: 2017-02-14 19:56:19,746 - Querying api: testscraper3
INFO: 2017-02-14 19:56:21,778 - Querying api: testscraper4
INFO: 2017-02-14 19:56:23,789 - Querying api: testscraper5
INFO: 2017-02-14 19:56:25,800 - Querying api: testscraper6
INFO: 2017-02-14 19:56:27,811 - Querying api: testscraper7
INFO: 2017-02-14 19:56:29,844 - Querying api: testscraper8
INFO: 2017-02-14 19:56:31,855 - Querying api: testscraper9
INFO: 2017-02-14 19:56:33,865 - Querying api: testscraper10
INFO: 2017-02-14 19:56:35,876 - Querying api: testscraper11
INFO: 2017-02-14 19:56:37,888 - Querying api: testscraper12
INFO: 2017-02-14 19:56:39,895 - Querying api: testscraper13
INFO: 2017-02-14 19:56:42,065 - 200 GET /flights/search (::1) 36396.56ms
INFO: 2017-02-14 19:57:19,964 - myapi.py modified; restarting server
INFO: 2017-02-14 19:57:20,066 - Started
INFO: 2017-02-14 19:57:20,067 - Listening on port 8000
INFO: 2017-02-14 19:57:20,683 - Querying api: expedia
INFO: 2017-02-14 19:57:20,683 - Querying api: orbitz
INFO: 2017-02-14 19:57:20,683 - Querying api: priceline
INFO: 2017-02-14 19:57:20,683 - Querying api: travelocity
INFO: 2017-02-14 19:57:20,683 - Querying api: united
INFO: 2017-02-14 19:57:20,683 - Querying api: testscraper1
INFO: 2017-02-14 19:57:20,683 - Querying api: testscraper2
INFO: 2017-02-14 19:57:20,683 - Querying api: testscraper3
INFO: 2017-02-14 19:57:20,683 - Querying api: testscraper4
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper5
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper6
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper7
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper8
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper9
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper10
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper11
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper12
INFO: 2017-02-14 19:57:20,684 - Querying api: testscraper13
ERROR: 2017-02-14 19:57:22,834 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"37e730a85d874fd0fa74b7994bdaac05dca3555d"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 104, in get
    self.write({"results": list(results)})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <listiterator object at 0x7f03c234e210> is not JSON serializable
ERROR: 2017-02-14 19:57:22,835 - 500 GET /flights/search (::1) 2152.30ms
INFO: 2017-02-14 19:57:31,568 - myapi.py modified; restarting server
INFO: 2017-02-14 19:57:31,632 - Started
INFO: 2017-02-14 19:57:31,633 - Listening on port 8000
INFO: 2017-02-14 19:57:34,163 - Querying api: expedia
INFO: 2017-02-14 19:57:34,163 - Querying api: orbitz
INFO: 2017-02-14 19:57:34,164 - Querying api: priceline
INFO: 2017-02-14 19:57:34,164 - Querying api: travelocity
INFO: 2017-02-14 19:57:34,164 - Querying api: united
INFO: 2017-02-14 19:57:34,164 - Querying api: testscraper1
INFO: 2017-02-14 19:57:34,164 - Querying api: testscraper2
INFO: 2017-02-14 19:57:34,164 - Querying api: testscraper3
INFO: 2017-02-14 19:57:34,164 - Querying api: testscraper4
INFO: 2017-02-14 19:57:34,164 - Querying api: testscraper5
INFO: 2017-02-14 19:57:34,165 - Querying api: testscraper6
INFO: 2017-02-14 19:57:34,165 - Querying api: testscraper7
INFO: 2017-02-14 19:57:34,165 - Querying api: testscraper8
INFO: 2017-02-14 19:57:34,165 - Querying api: testscraper9
INFO: 2017-02-14 19:57:34,165 - Querying api: testscraper10
INFO: 2017-02-14 19:57:34,165 - Querying api: testscraper11
INFO: 2017-02-14 19:57:34,166 - Querying api: testscraper12
INFO: 2017-02-14 19:57:34,166 - Querying api: testscraper13
ERROR: 2017-02-14 19:57:36,314 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 104, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <listiterator object at 0x7f0742f5d210> is not JSON serializable
ERROR: 2017-02-14 19:57:36,315 - 500 GET /flights/search (::1) 2152.02ms
INFO: 2017-02-14 19:57:49,133 - myapi.py modified; restarting server
INFO: 2017-02-14 19:57:49,196 - Started
INFO: 2017-02-14 19:57:49,197 - Listening on port 8000
INFO: 2017-02-14 19:57:49,289 - Querying api: expedia
INFO: 2017-02-14 19:57:49,290 - Querying api: orbitz
INFO: 2017-02-14 19:57:49,290 - Querying api: priceline
INFO: 2017-02-14 19:57:49,290 - Querying api: travelocity
INFO: 2017-02-14 19:57:49,290 - Querying api: united
INFO: 2017-02-14 19:57:49,291 - Querying api: testscraper1
INFO: 2017-02-14 19:57:49,291 - Querying api: testscraper2
INFO: 2017-02-14 19:57:49,291 - Querying api: testscraper3
INFO: 2017-02-14 19:57:49,292 - Querying api: testscraper4
INFO: 2017-02-14 19:57:49,292 - Querying api: testscraper5
INFO: 2017-02-14 19:57:49,292 - Querying api: testscraper6
INFO: 2017-02-14 19:57:49,292 - Querying api: testscraper7
INFO: 2017-02-14 19:57:49,293 - Querying api: testscraper8
INFO: 2017-02-14 19:57:49,293 - Querying api: testscraper9
INFO: 2017-02-14 19:57:49,293 - Querying api: testscraper10
INFO: 2017-02-14 19:57:49,293 - Querying api: testscraper11
INFO: 2017-02-14 19:57:49,294 - Querying api: testscraper12
INFO: 2017-02-14 19:57:49,294 - Querying api: testscraper13
INFO: 2017-02-14 19:57:51,455 - 200 GET /flights/search (::1) 2166.38ms
INFO: 2017-02-14 20:00:12,699 - myapi.py modified; restarting server
INFO: 2017-02-14 20:00:12,789 - Started
INFO: 2017-02-14 20:00:12,790 - Listening on port 8000
INFO: 2017-02-14 20:00:16,388 - Querying api: expedia
INFO: 2017-02-14 20:00:16,389 - Querying api: orbitz
INFO: 2017-02-14 20:00:16,389 - Querying api: priceline
INFO: 2017-02-14 20:00:16,391 - Querying api: travelocity
INFO: 2017-02-14 20:00:16,393 - Querying api: united
INFO: 2017-02-14 20:00:16,394 - Querying api: testscraper1
INFO: 2017-02-14 20:00:16,394 - Querying api: testscraper2
INFO: 2017-02-14 20:00:16,395 - Querying api: testscraper3
INFO: 2017-02-14 20:00:16,395 - Querying api: testscraper4
INFO: 2017-02-14 20:00:16,396 - Querying api: testscraper5
INFO: 2017-02-14 20:00:16,397 - Querying api: testscraper6
INFO: 2017-02-14 20:00:16,398 - Querying api: testscraper7
INFO: 2017-02-14 20:00:16,398 - Querying api: testscraper8
INFO: 2017-02-14 20:00:16,401 - Querying api: testscraper9
INFO: 2017-02-14 20:00:16,401 - Querying api: testscraper10
INFO: 2017-02-14 20:00:16,402 - Querying api: testscraper11
INFO: 2017-02-14 20:00:16,402 - Querying api: testscraper12
INFO: 2017-02-14 20:00:16,403 - Querying api: testscraper13
INFO: 2017-02-14 20:00:18,609 - 200 GET /flights/search (::1) 2222.84ms
INFO: 2017-02-14 20:00:48,225 - Querying api: expedia
INFO: 2017-02-14 20:00:48,226 - Querying api: orbitz
INFO: 2017-02-14 20:00:48,226 - Querying api: priceline
INFO: 2017-02-14 20:00:48,227 - Querying api: travelocity
INFO: 2017-02-14 20:00:48,227 - Querying api: united
INFO: 2017-02-14 20:00:48,228 - Querying api: testscraper1
INFO: 2017-02-14 20:00:48,228 - Querying api: testscraper2
INFO: 2017-02-14 20:00:48,229 - Querying api: testscraper3
INFO: 2017-02-14 20:00:48,229 - Querying api: testscraper4
INFO: 2017-02-14 20:00:48,230 - Querying api: testscraper5
INFO: 2017-02-14 20:00:48,230 - Querying api: testscraper6
INFO: 2017-02-14 20:00:48,231 - Querying api: testscraper7
INFO: 2017-02-14 20:00:48,231 - Querying api: testscraper8
INFO: 2017-02-14 20:00:48,231 - Querying api: testscraper9
INFO: 2017-02-14 20:00:48,231 - Querying api: testscraper10
INFO: 2017-02-14 20:00:48,231 - Querying api: testscraper11
INFO: 2017-02-14 20:00:48,231 - Querying api: testscraper12
INFO: 2017-02-14 20:00:48,232 - Querying api: testscraper13
INFO: 2017-02-14 20:00:50,440 - 304 GET /flights/search (::1) 2214.97ms
INFO: 2017-02-14 20:01:06,792 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/__init__.py modified; restarting server
INFO: 2017-02-14 20:01:06,894 - Started
INFO: 2017-02-14 20:01:06,896 - Listening on port 8000
INFO: 2017-02-14 20:01:16,398 - myapi.py modified; restarting server
INFO: 2017-02-14 20:01:16,503 - Started
INFO: 2017-02-14 20:01:16,504 - Listening on port 8000
INFO: 2017-02-14 20:01:17,617 - Querying api: expedia
INFO: 2017-02-14 20:01:17,617 - Querying api: orbitz
INFO: 2017-02-14 20:01:17,618 - Querying api: priceline
INFO: 2017-02-14 20:01:17,619 - Querying api: travelocity
INFO: 2017-02-14 20:01:17,619 - Querying api: united
INFO: 2017-02-14 20:01:19,680 - 200 GET /flights/search (::1) 2064.41ms
INFO: 2017-02-14 20:01:26,078 - Querying api: expedia
INFO: 2017-02-14 20:01:26,078 - Querying api: orbitz
INFO: 2017-02-14 20:01:26,079 - Querying api: priceline
INFO: 2017-02-14 20:01:26,084 - Querying api: travelocity
INFO: 2017-02-14 20:01:26,084 - Querying api: united
INFO: 2017-02-14 20:01:28,120 - 304 GET /flights/search (::1) 2042.57ms
WARNING: 2017-02-14 20:01:36,261 - 404 GET / (::1) 2.75ms
INFO: 2017-02-14 20:01:42,878 - Started
INFO: 2017-02-14 20:01:42,878 - Listening on port 8000
INFO: 2017-02-14 20:01:45,743 - Querying api: expedia
INFO: 2017-02-14 20:01:45,743 - Querying api: orbitz
INFO: 2017-02-14 20:01:45,743 - Querying api: priceline
INFO: 2017-02-14 20:01:45,743 - Querying api: travelocity
INFO: 2017-02-14 20:01:45,743 - Querying api: united
INFO: 2017-02-14 20:01:47,816 - 304 GET /flights/search (::1) 2073.68ms
INFO: 2017-02-14 20:01:47,817 - Querying api: expedia
INFO: 2017-02-14 20:01:47,817 - Querying api: orbitz
INFO: 2017-02-14 20:01:47,817 - Querying api: priceline
INFO: 2017-02-14 20:01:47,817 - Querying api: travelocity
INFO: 2017-02-14 20:01:47,817 - Querying api: united
INFO: 2017-02-14 20:01:49,892 - 200 GET /flights/search (::1) 2075.97ms
INFO: 2017-02-14 20:02:01,732 - Querying api: expedia
INFO: 2017-02-14 20:02:01,733 - Querying api: orbitz
INFO: 2017-02-14 20:02:01,734 - Querying api: priceline
INFO: 2017-02-14 20:02:01,734 - Querying api: travelocity
INFO: 2017-02-14 20:02:01,735 - Querying api: united
INFO: 2017-02-14 20:02:03,804 - 200 GET /flights/search (::1) 2071.79ms
INFO: 2017-02-14 20:02:12,841 - Querying api: expedia
INFO: 2017-02-14 20:02:12,842 - Querying api: orbitz
INFO: 2017-02-14 20:02:12,842 - Querying api: priceline
INFO: 2017-02-14 20:02:12,843 - Querying api: travelocity
INFO: 2017-02-14 20:02:12,844 - Querying api: united
INFO: 2017-02-14 20:02:14,916 - 304 GET /flights/search (::1) 2075.54ms
INFO: 2017-02-15 16:27:11,369 - Started
INFO: 2017-02-15 16:27:11,400 - Listening on port 8000
INFO: 2017-02-15 16:27:17,153 - Querying provider APIs
INFO: 2017-02-15 16:27:17,154 - Querying api: expedia
INFO: 2017-02-15 16:27:19,190 - Querying api: orbitz
INFO: 2017-02-15 16:27:21,199 - Querying api: priceline
INFO: 2017-02-15 16:27:23,217 - Querying api: travelocity
INFO: 2017-02-15 16:27:25,231 - Querying api: united
ERROR: 2017-02-15 16:27:27,276 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'If-None-Match': '"2e2f63d5b0b0acbc645bc116ae0383e766444a09"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1024, in run
    yielded = self.gen.send(value)
  File "myapi.py", line 104, in get
    self.write({"results": results})
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 710, in write
    chunk = escape.json_encode(chunk)
  File "/usr/lib/python2.7/site-packages/tornado/escape.py", line 82, in json_encode
    return json.dumps(value).replace("</", "<\\/")
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: <generator object merge at 0x7f742a8e2aa0> is not JSON serializable
ERROR: 2017-02-15 16:27:27,277 - 500 GET /flights/search (::1) 10124.25ms
WARNING: 2017-02-15 16:27:27,409 - 404 GET /favicon.ico (::1) 0.29ms
INFO: 2017-02-15 16:32:43,887 - myapi.py modified; restarting server
INFO: 2017-02-15 16:32:43,953 - Started
INFO: 2017-02-15 16:32:43,954 - Listening on port 8000
INFO: 2017-02-15 16:32:45,929 - Querying provider APIs
INFO: 2017-02-15 16:32:45,929 - Querying api: expedia
INFO: 2017-02-15 16:32:47,964 - Merging results
INFO: 2017-02-15 16:32:47,964 - Returning Results
INFO: 2017-02-15 16:32:47,966 - Querying api: orbitz
INFO: 2017-02-15 16:32:49,975 - Merging results
INFO: 2017-02-15 16:32:49,978 - Returning Results
INFO: 2017-02-15 16:32:49,979 - Querying api: priceline
INFO: 2017-02-15 16:32:51,986 - Merging results
INFO: 2017-02-15 16:32:51,987 - Returning Results
INFO: 2017-02-15 16:32:51,987 - Querying api: travelocity
INFO: 2017-02-15 16:32:53,999 - Merging results
INFO: 2017-02-15 16:32:54,006 - Returning Results
INFO: 2017-02-15 16:32:54,007 - Querying api: united
INFO: 2017-02-15 16:32:56,050 - Merging results
INFO: 2017-02-15 16:32:56,053 - Returning Results
INFO: 2017-02-15 16:32:56,070 - 200 GET /flights/search (::1) 10141.75ms
INFO: 2017-02-15 16:33:29,455 - myapi.py modified; restarting server
INFO: 2017-02-15 16:33:29,536 - Started
INFO: 2017-02-15 16:33:29,536 - Listening on port 8000
INFO: 2017-02-15 16:33:50,537 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/__init__.py modified; restarting server
INFO: 2017-02-15 16:34:12,744 - Started
INFO: 2017-02-15 16:34:12,745 - Listening on port 8000
INFO: 2017-02-15 16:34:17,097 - Querying provider APIs
INFO: 2017-02-15 16:34:17,097 - Querying api: expedia
INFO: 2017-02-15 16:34:19,132 - Merging results
INFO: 2017-02-15 16:34:19,133 - Returning Results
INFO: 2017-02-15 16:34:19,133 - Querying api: orbitz
INFO: 2017-02-15 16:34:21,142 - Merging results
INFO: 2017-02-15 16:34:21,145 - Returning Results
INFO: 2017-02-15 16:34:21,146 - Querying api: priceline
INFO: 2017-02-15 16:34:23,153 - Merging results
INFO: 2017-02-15 16:34:23,156 - Returning Results
INFO: 2017-02-15 16:34:23,156 - Querying api: travelocity
INFO: 2017-02-15 16:34:25,169 - Merging results
INFO: 2017-02-15 16:34:25,175 - Returning Results
INFO: 2017-02-15 16:34:25,175 - Querying api: united
INFO: 2017-02-15 16:34:27,216 - Merging results
INFO: 2017-02-15 16:34:27,220 - Returning Results
INFO: 2017-02-15 16:34:27,221 - Querying api: testscraper1
INFO: 2017-02-15 16:34:29,234 - Merging results
INFO: 2017-02-15 16:34:29,238 - Returning Results
INFO: 2017-02-15 16:34:29,238 - Querying api: testscraper2
INFO: 2017-02-15 16:34:31,272 - Merging results
INFO: 2017-02-15 16:34:31,283 - Returning Results
INFO: 2017-02-15 16:34:31,285 - Querying api: testscraper3
INFO: 2017-02-15 16:34:33,316 - Merging results
INFO: 2017-02-15 16:34:33,326 - Returning Results
INFO: 2017-02-15 16:34:33,327 - Querying api: testscraper4
INFO: 2017-02-15 16:34:35,359 - Merging results
INFO: 2017-02-15 16:34:35,374 - Returning Results
INFO: 2017-02-15 16:34:35,376 - Querying api: testscraper5
INFO: 2017-02-15 16:34:37,409 - Merging results
INFO: 2017-02-15 16:34:37,422 - Returning Results
INFO: 2017-02-15 16:34:37,423 - Querying api: testscraper6
INFO: 2017-02-15 16:34:39,436 - Merging results
INFO: 2017-02-15 16:34:39,446 - Returning Results
INFO: 2017-02-15 16:34:39,447 - Querying api: testscraper7
INFO: 2017-02-15 16:34:41,481 - Merging results
INFO: 2017-02-15 16:34:41,509 - Returning Results
INFO: 2017-02-15 16:34:41,511 - Querying api: testscraper8
INFO: 2017-02-15 16:34:43,520 - Merging results
INFO: 2017-02-15 16:34:43,545 - Returning Results
INFO: 2017-02-15 16:34:43,546 - Querying api: testscraper9
INFO: 2017-02-15 16:34:45,579 - Merging results
INFO: 2017-02-15 16:34:45,611 - Returning Results
INFO: 2017-02-15 16:34:45,614 - Querying api: testscraper10
INFO: 2017-02-15 16:34:47,650 - Merging results
INFO: 2017-02-15 16:34:47,691 - Returning Results
INFO: 2017-02-15 16:34:47,694 - Querying api: testscraper11
INFO: 2017-02-15 16:34:49,728 - Merging results
INFO: 2017-02-15 16:34:49,772 - Returning Results
INFO: 2017-02-15 16:34:49,774 - Querying api: testscraper12
INFO: 2017-02-15 16:34:51,807 - Merging results
INFO: 2017-02-15 16:34:51,851 - Returning Results
INFO: 2017-02-15 16:34:51,853 - Querying api: testscraper13
INFO: 2017-02-15 16:34:53,890 - Merging results
INFO: 2017-02-15 16:34:53,941 - Returning Results
INFO: 2017-02-15 16:34:53,944 - Querying api: testscraper14
INFO: 2017-02-15 16:34:55,976 - Merging results
INFO: 2017-02-15 16:34:56,027 - Returning Results
INFO: 2017-02-15 16:34:56,030 - Querying api: testscraper15
ERROR: 2017-02-15 16:34:56,030 - BadYieldError - Tried to access API for bad provider.
ERROR: 2017-02-15 16:34:56,048 - Uncaught exception GET /flights/search (::1)
HTTPServerRequest(protocol='http', host='localhost:8000', method='GET', uri='/flights/search', version='HTTP/1.1', remote_ip='::1', headers={'Accept-Language': 'en-US,en;q=0.8', 'Accept-Encoding': 'gzip, deflate, sdch, br', 'Host': 'localhost:8000', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', 'Connection': 'keep-alive', 'Cookie': 'csrftoken=9mnhwO9y4k5mEFzgiyidJxp9hCaEUIZFqlpcFKm04NzPVYjiDbhkuBSSZ6YSNwkN', 'Cache-Control': 'max-age=0', 'If-None-Match': '"27fb0f5db498787571f683f451470089d0b5fdc8"', 'Upgrade-Insecure-Requests': '1'})
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/tornado/web.py", line 1469, in _execute
    result = yield result
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 97, in get
    results = yield self.get_new_results(results, provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 112, in get_new_results
    new_results = yield self.query_api(provider)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1021, in run
    yielded = self.gen.throw(*exc_info)
  File "myapi.py", line 150, in query_api
    "error": "Unkown provider",
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1015, in run
    value = future.result()
  File "/usr/lib/python2.7/site-packages/tornado/concurrent.py", line 237, in result
    raise_exc_info(self._exc_info)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1097, in handle_yield
    self.future = convert_yielded(yielded)
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1223, in convert_yielded
    return multi(yielded)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 686, in multi
    return multi_future(children, quiet_exceptions=quiet_exceptions)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 778, in multi_future
    children = list(map(convert_yielded, children))
  File "/usr/lib/python2.7/site-packages/singledispatch.py", line 210, in wrapper
    return dispatch(args[0].__class__)(*args, **kw)
  File "/usr/lib/python2.7/site-packages/tornado/gen.py", line 1229, in convert_yielded
    raise BadYieldError("yielded unknown object %r" % (yielded,))
BadYieldError: yielded unknown object 'Unkown provider'
ERROR: 2017-02-15 16:34:56,051 - 500 GET /flights/search (::1) 38955.91ms
INFO: 2017-02-15 16:36:06,747 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py modified; restarting server
INFO: 2017-02-15 16:36:06,855 - Started
INFO: 2017-02-15 16:36:06,856 - Listening on port 8000
INFO: 2017-02-15 16:36:09,779 - Querying provider APIs
INFO: 2017-02-15 16:36:09,780 - Querying api: expedia
INFO: 2017-02-15 16:36:11,813 - Merging results
INFO: 2017-02-15 16:36:11,814 - Returning Results
INFO: 2017-02-15 16:36:11,814 - Querying api: orbitz
INFO: 2017-02-15 16:36:13,824 - Merging results
INFO: 2017-02-15 16:36:13,826 - Returning Results
INFO: 2017-02-15 16:36:13,827 - Querying api: priceline
INFO: 2017-02-15 16:36:15,835 - Merging results
INFO: 2017-02-15 16:36:15,836 - Returning Results
INFO: 2017-02-15 16:36:15,836 - Querying api: travelocity
INFO: 2017-02-15 16:36:17,848 - Merging results
INFO: 2017-02-15 16:36:17,853 - Returning Results
INFO: 2017-02-15 16:36:17,854 - Querying api: united
INFO: 2017-02-15 16:36:19,872 - Merging results
INFO: 2017-02-15 16:36:19,874 - Returning Results
INFO: 2017-02-15 16:36:19,875 - Querying api: testscraper1
INFO: 2017-02-15 16:36:21,904 - Merging results
INFO: 2017-02-15 16:36:21,910 - Returning Results
INFO: 2017-02-15 16:36:21,912 - Querying api: testscraper2
INFO: 2017-02-15 16:36:23,942 - Merging results
INFO: 2017-02-15 16:36:23,953 - Returning Results
INFO: 2017-02-15 16:36:23,955 - Querying api: testscraper3
INFO: 2017-02-15 16:36:25,986 - Merging results
INFO: 2017-02-15 16:36:25,998 - Returning Results
INFO: 2017-02-15 16:36:25,999 - Querying api: testscraper4
INFO: 2017-02-15 16:36:28,012 - Merging results
INFO: 2017-02-15 16:36:28,023 - Returning Results
INFO: 2017-02-15 16:36:28,023 - Querying api: testscraper5
INFO: 2017-02-15 16:36:30,063 - Merging results
INFO: 2017-02-15 16:36:30,090 - Returning Results
INFO: 2017-02-15 16:36:30,091 - Querying api: testscraper6
INFO: 2017-02-15 16:36:32,122 - Merging results
INFO: 2017-02-15 16:36:32,147 - Returning Results
INFO: 2017-02-15 16:36:32,148 - Querying api: testscraper7
INFO: 2017-02-15 16:36:34,182 - Merging results
INFO: 2017-02-15 16:36:34,206 - Returning Results
INFO: 2017-02-15 16:36:34,208 - Querying api: testscraper8
INFO: 2017-02-15 16:36:36,240 - Merging results
INFO: 2017-02-15 16:36:36,266 - Returning Results
INFO: 2017-02-15 16:36:36,269 - Querying api: testscraper9
INFO: 2017-02-15 16:36:38,302 - Merging results
INFO: 2017-02-15 16:36:38,329 - Returning Results
INFO: 2017-02-15 16:36:38,330 - Querying api: testscraper10
INFO: 2017-02-15 16:36:40,367 - Merging results
INFO: 2017-02-15 16:36:40,405 - Returning Results
INFO: 2017-02-15 16:36:40,406 - Querying api: testscraper11
INFO: 2017-02-15 16:36:42,441 - Merging results
INFO: 2017-02-15 16:36:42,475 - Returning Results
INFO: 2017-02-15 16:36:42,476 - Querying api: testscraper12
INFO: 2017-02-15 16:36:44,502 - Merging results
INFO: 2017-02-15 16:36:44,548 - Returning Results
INFO: 2017-02-15 16:36:44,553 - Querying api: testscraper13
INFO: 2017-02-15 16:36:46,568 - Merging results
INFO: 2017-02-15 16:36:46,617 - Returning Results
INFO: 2017-02-15 16:36:46,621 - Querying api: testscraper14
INFO: 2017-02-15 16:36:48,652 - Merging results
INFO: 2017-02-15 16:36:48,701 - Returning Results
INFO: 2017-02-15 16:36:48,705 - Querying api: testscraper15
INFO: 2017-02-15 16:36:50,716 - Merging results
INFO: 2017-02-15 16:36:50,767 - Returning Results
INFO: 2017-02-15 16:36:50,848 - 200 GET /flights/search (::1) 41069.77ms
INFO: 2017-02-15 16:37:10,358 - myapi.py modified; restarting server
INFO: 2017-02-15 16:37:10,446 - Started
INFO: 2017-02-15 16:37:10,447 - Listening on port 8000
INFO: 2017-02-15 16:37:11,589 - Querying provider APIs
INFO: 2017-02-15 16:37:11,589 - Querying api: expedia
INFO: 2017-02-15 16:37:11,590 - Querying api: orbitz
INFO: 2017-02-15 16:37:11,590 - Querying api: priceline
INFO: 2017-02-15 16:37:11,590 - Querying api: travelocity
INFO: 2017-02-15 16:37:11,590 - Querying api: united
INFO: 2017-02-15 16:37:11,590 - Querying api: testscraper1
INFO: 2017-02-15 16:37:11,590 - Querying api: testscraper2
INFO: 2017-02-15 16:37:11,590 - Querying api: testscraper3
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper4
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper5
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper6
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper7
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper8
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper9
INFO: 2017-02-15 16:37:11,591 - Querying api: testscraper10
INFO: 2017-02-15 16:37:11,592 - Querying api: testscraper11
INFO: 2017-02-15 16:37:11,592 - Querying api: testscraper12
INFO: 2017-02-15 16:37:11,592 - Querying api: testscraper13
INFO: 2017-02-15 16:37:11,592 - Querying api: testscraper14
INFO: 2017-02-15 16:37:11,592 - Querying api: testscraper15
INFO: 2017-02-15 16:37:13,818 - 200 GET /flights/search (::1) 2229.13ms
INFO: 2017-02-15 16:37:31,948 - myapi.py modified; restarting server
INFO: 2017-02-15 16:37:32,008 - Started
INFO: 2017-02-15 16:37:32,009 - Listening on port 8000
INFO: 2017-02-15 16:37:35,042 - Querying provider APIs
INFO: 2017-02-15 16:37:35,043 - Querying api: expedia
INFO: 2017-02-15 16:37:37,087 - 200 GET /flights/search (::1) 2046.21ms
INFO: 2017-02-15 16:37:43,010 - myapi.py modified; restarting server
INFO: 2017-02-15 16:37:43,104 - Started
INFO: 2017-02-15 16:37:43,105 - Listening on port 8000
INFO: 2017-02-15 16:39:01,607 - /home/hodgka/Documents/hipproblems/searchrunner/scrapers/expedia.py modified; restarting server
INFO: 2017-02-15 16:39:19,399 - Started
INFO: 2017-02-15 16:39:19,400 - Listening on port 8000
INFO: 2017-02-15 16:39:20,750 - Querying provider APIs
INFO: 2017-02-15 16:39:20,750 - Querying api: expedia
INFO: 2017-02-15 16:39:20,750 - Querying api: orbitz
INFO: 2017-02-15 16:39:20,750 - Querying api: priceline
INFO: 2017-02-15 16:39:20,750 - Querying api: travelocity
INFO: 2017-02-15 16:39:20,750 - Querying api: united
INFO: 2017-02-15 16:39:20,750 - Querying api: testscraper1
INFO: 2017-02-15 16:39:20,750 - Querying api: testscraper2
INFO: 2017-02-15 16:39:20,750 - Querying api: testscraper3
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper4
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper5
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper6
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper7
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper8
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper9
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper10
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper11
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper12
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper13
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper14
INFO: 2017-02-15 16:39:20,751 - Querying api: testscraper15
INFO: 2017-02-15 16:39:22,999 - 200 GET /flights/search (::1) 2249.21ms
INFO: 2017-02-15 16:40:26,902 - myapi.py modified; restarting server
INFO: 2017-02-15 16:40:26,966 - Started
INFO: 2017-02-15 16:40:26,967 - Listening on port 8000
INFO: 2017-02-15 16:40:28,597 - Querying provider APIs
INFO: 2017-02-15 16:40:28,597 - Querying api: expedia
INFO: 2017-02-15 16:40:28,597 - Querying api: orbitz
INFO: 2017-02-15 16:40:28,597 - Querying api: priceline
INFO: 2017-02-15 16:40:28,598 - Querying api: travelocity
INFO: 2017-02-15 16:40:28,598 - Querying api: united
INFO: 2017-02-15 16:40:28,598 - Querying api: testscraper1
INFO: 2017-02-15 16:40:28,598 - Querying api: testscraper2
INFO: 2017-02-15 16:40:28,598 - Querying api: testscraper3
INFO: 2017-02-15 16:40:28,598 - Querying api: testscraper4
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper5
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper6
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper7
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper8
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper9
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper10
INFO: 2017-02-15 16:40:28,599 - Querying api: testscraper11
INFO: 2017-02-15 16:40:28,601 - Querying api: testscraper12
INFO: 2017-02-15 16:40:28,601 - Querying api: testscraper13
INFO: 2017-02-15 16:40:28,602 - Querying api: testscraper14
INFO: 2017-02-15 16:40:28,602 - Querying api: testscraper15
INFO: 2017-02-15 16:40:30,785 - Finished merging results. Writing to server.
INFO: 2017-02-15 16:40:30,848 - Finished writing to server.
INFO: 2017-02-15 16:40:30,862 - 200 GET /flights/search (::1) 2265.48ms
INFO: 2017-02-15 16:41:07,468 - myapi.py modified; restarting server
INFO: 2017-02-15 16:44:46,179 - Started
INFO: 2017-02-15 16:44:46,180 - Listening on port 8000
